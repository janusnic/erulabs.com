!function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e){var t;e("./vendor/angular.js"),e("./vendor/prism.js"),t=angular.module("erulabs",[]),t.controller("blogController",["$scope","$sce",function(t,n){var r,i;return i=1012,t.focus=!1,r=function(){var e;return e=!!window.location.href.split("/posts/")[1],null!=e&&e?window.location.href.split("#")[0].split("/posts/")[1].replace(/\-/g," "):!1},t.urlify=function(e){return e.replace(/\-/g," ").replace(/\:/g," ").replace(/\ /g,"_")},t.urlFilter=function(e){var n;return n=r(),n?t.urlify(n)===t.urlify(e.title)?!0:!1:!0},t.bodyFilter=function(e){var o;return null==e.body?"Default Body":(o=r(),e.preview=!1,o===t.urlify(e.title)?(t.focus=!0,n.trustAsHtml(e.body)):e.body.toString().length>i?(t.focus=!1,e.preview=!0,n.trustAsHtml(e.blurb.toString())):(t.focus=!0,n.trustAsHtml(e.body)))},t.blog=[{title:"Drupal 7 in 2015, or: How to make an old dog modern",body:e("./posts/Drupal-7-in-2015.html"),blurb:"<p>\nPHP hasn't gone away, and there are still a huge number of sites out there making use of Wordpress, Drupal or custom PHP code. They're slow to respond, they often require Apache (massive .htaccess files anyone?), they have central points of failure (single MySQL master), they cache incredibly poorly (if at all), and they spend almost all their time serving static content off the disk (in the case of most blogs in 2015 - they're primarily serving photos.)\n</p><p>\nSo what to do? How does the state of the Cloud in 2015 help solve these problems? Let's first look at some of the primary problems with a typical Drupal7 installation...",date:"January 14th, 2015"},{title:"PerfectStack: NodeJS Salt and the Cloud - Part 1: Static sites",body:e("./posts/Developing-and-deploying-static-sites-with-GulpJS-and-the-Cloud.html"),blurb:"<p>\n  In the beginning, there was HTML. And for a while, it was good. Then came CSS and JavaScript and for a while, that was good too. The static site was born and then died immediatly. It's killer - the backend - was armed to the teeth with power and possibility. First PERL and later PHP scripts regularly wrote out HTML and sometimes even JavaScript - as we layered technologies one on top of each other things started to get messy. Applications regularly tightly depended on specific application settings (Apache rewrite rules anyone?), or had bizarre dependences which for some reason only RedHat EL 4 satisfies. What began as a \"Look what I can do!\" quickly evolved into \"Oh god what did I do?\".\n</p><p>\n   Is it even possible for a normal web developer to build a web application any more? Which frameworks to pick? Which clouds to use? Do we need a team of 10 experts and a corporate SLA? This article will come in a few parts, and we'll work up to the full web application and talk about all the pieces - but for now let's start by going back in time and creating a static site - A site like we would have made before we started renaming our .html files as .php because we wanted a page changer or some text entry field. Let's reject hacky tricks and reject billion line frameworks. <b>Let's build a modern website</b>.</p>",date:"June 5th, 2014"}]}])},{"./posts/Developing-and-deploying-static-sites-with-GulpJS-and-the-Cloud.html":2,"./posts/Drupal-7-in-2015.html":3,"./vendor/angular.js":4,"./vendor/prism.js":5}],2:[function(e,t){t.exports='<h3><span class="glyphicon glyphicon-chevron-right"></span> In the beginning...</h3><p>	In the beginning, there was HTML. And for a while, it was good. Then came CSS and JavaScript and for a while, that was good too. The static site was born and then died immediately. It\'s killer - the back end - was armed to the teeth with power and possibility. First PERL and later PHP scripts regularly wrote out HTML and sometimes even JavaScript - as we layered technologies one on top of each other things started to get messy. Applications regularly tightly depended on specific application settings (Apache rewrite rules anyone?), or had bizarre dependencies which for some reason only RedHat EL 4 satisfies. What began as a "Look what I can do!" quickly evolved into "Oh god what did I do?".</p><p>	Then came the frameworks. Ruby-on-Rails - a framework which in an organized way bundled up all the tricks of the past decade - It had built in caching, error handling, routing, database abstraction and instead of a thousand tricks, we had one beast of a framework - and for a while, it was good too. But things didn\'t stop there. The PHP community released Symfony and Drupal which packaged the majority of what made Rails special - the Python community released Django - the PERL folks released about 10 frameworks that no one used - .NET is a thing - and more recently, a small group of people wrote Node.js - A server framework for Javascript based on Google\'s V8. And boy, was it ever good.</p><p>	Now JavaScript had it\'s problems (oh <a href="http://www.oreillynet.com/pub/a/javascript/excerpts/javascript-good-parts/bad-parts.html">did it ever</a>), but it was required knowledge - JavaScript is the language of the browser and therefore the language of the web. We used it for our animations and our AJAX then forgot about it - preferring to focus on what was really important for most developers - the server. But time marched on, and as JavaScript improved and Node.js gained popularity, some wondered why we\'d even bother using anything <i>but</i> Javascript. Why not unify? A single language for the web - for servers and browsers!</p><p>	Behind all this web development, systems administrators were getting work done too. Reliance on single points of failure were eliminated one by one - large infrastructures were virtualized - scales of economy kicked in, and the Cloud was born. In a hurry, developers worth their salt realized their applications needed to be able to be deployed in moments - needed to bundle everything they depended on. Suddenly, it was possible to write code which described and was able to deploy an entire environment. Suddenly, developers were coding their operations. Instead of asking a SysAdmin for a server, I can execute a line of code and get one in moments! Suddenly, it became possible to write code for more than servers and browsers - <b>we started to write code for infrastructures</b>. With the availability of JavaScript SDKs for Cloud providers - we now have a single language which can deliver the entirety of the web - the client, the server, and the cloud.</p><h3><span class="glyphicon glyphicon-chevron-right"></span> These days...</h3><p>	So where are we now? Is it even possible for a normal web developer to build a web application any more? Which frameworks to pick? Which clouds to use? Do we need a team of 10 experts and a corporate SLA? This article will come in a few parts, and we\'ll work up to the full web application and talk about all the pieces - but for now let\'s start by going back in time and creating a static site - A site like we would have made before we started renaming our .html files as .php because we wanted a page changer or some text entry field. Let\'s reject hacky tricks and reject billion line frameworks. <b>Let\'s build a modern website</b>.</p><p>	<i>Note: The only requirement for this tutorial is an understanding of JavaScript</i></p><p>	These days we have a lot of requirements. We want:	<ul>		<li>A single language for the "full stack" - client, server and cloud</li>		<li>No bloated frameworks and a very minimal production dependency chain</li>		<li>The most modern tools and a highly configurable build system with all the usual tricks (and some new ones)</li>		<li>The ability to describe and deploy to our production infrastructure in code</li>		<li>Deep application performance monitoring and infrastructure monitoring</li>	</ul></p><p>	To answer the questions, we\'ll use JavaScript, Node.js, Gulp.js &amp; Browserify, SaltStack and NewRelic respectively. Part one of this series will cover the first three - while part two will deal with the server and infrastructure.</p><h3><span class="glyphicon glyphicon-chevron-right"></span> Getting started...</h3><p>	Install <a href="http://nodejs.org/">Node.js</a> (everything here will work on *nix, OSX and win32). Windows users will probably need to <a href="https://windows.github.com/">install GitHub</a> to get a version of git and a better console to work with. Once installed, use the "GitHub Shell" and type "bash". Now you\'re ready! You\'ll also want a nice editor - I recommend GitHub\'s <a href="https://atom.io/">Atom</a>.</p><p>	Let\'s start a new project! We\'ll use NPM, the brilliant Node.js package manager.</p><p>	<i>Note: Commands which start with \'> \' are BASH commands - everything else will be identified as part of a JavaScript file.</i></p><p>	<kbd>&gt; mkdir modernstaticsite &amp;&amp; cd $_</kbd> <i>$_ means \'the last argument of the last command\', so "cd modernstaticsite"</i></p><p>	Create a <a href="https://www.npmjs.org/doc/json.html">package.json</a> file using NPM\'s guide:</p><p>	<kbd>&gt; npm init .</kbd> <i>You can just press return to all the questions if you\'d like</i></p><p>	Start the version control:</p><p>	<kbd>&gt; git init .</kbd></p><p>	We\'ll tell git to ignore our node modules - we\'ll track this using our "package.json" file we created using \'npm init\'</p><p>	<kbd>&gt; echo "node_modules" > .gitignore</kbd></p><p>'+"	Next let's create the skeleton of our project - a few directories where we'll keep our application organized - we'll use the common 'src' for our source files and 'dist' for our \"compiled\" site.</p><p>	<kbd>&gt; mkdir -p dist/assets &amp;&amp; mkdir -p src/assets</kbd></p><p>	<kbd>&gt; echo 'Hello modern world!' > src/index.html</kbd></p><p>	For our build system we'll use the excellent <a href=\"http://gulpjs.com/\">Gulp.js</a></p><p>	<kbd>&gt; npm install gulp gulp-util --save-dev</kbd></p><p>	Notice that we used '--save-dev', which automatically writes our dependencies to our package.json file. If we need to install a production dependencies (none for a static site!), use '--save' - Keeping track of what we do is the first step! In the future (or on other machines), we can simply <kbd>npm install</kbd> and NPM will install all our dependencies!</p><h3><span class=\"glyphicon glyphicon-chevron-right\"></span> Cookin' with fire</h3><p>	Now let's setup Gulp.js - Gulp by default will look for a \"gulpfile.js\" - in the gulpfile we'll define some tasks which will build our site. When I say 'build', we'll start with simply copying the files into a directory called \"dist\" (for distributing). Later in the tutorial we can add all kinds of fun things to our gulpfile (Like LESS, Jade, Browserify, etc etc). Create a new \"gulpfile.js\" in your project directory using whatever editor you prefer:</p><i>gulpfile.js</i><pre>	<code class=\"language-javascript\">var gulp = require('gulp');\ngulp.task('html', function () {\n  gulp.src('src/index.html').pipe(gulp.dest('dist'));\n});	</code></pre><p>	Take a moment to read through that - all we're doing is telling \"gulp\" that our HTML task simply copies src/index.html to dist/. This might seem fairly pointless right now, but we're just getting started! Let's add a task to copy our CSS and our images as well! (These go after the \"});\" in the last blurb)</p><i>gulpfile.js</i><pre>	<code class=\"language-javascript\">gulp.task('css', function () {\n  gulp.src('src/style.css').pipe(gulp.dest('dist/assets'));\n});\ngulp.task('assets', function () {\n  gulp.src(\"src/assets/**/*\").pipe(gulp.dest('dist/assets'));\n});	</code></pre><p>	Now, from the command line, a <kbd>gulp html</kbd>, <kbd>gulp css</kbd>, etc will copy your files from your \"src/\" directory into your \"dist/\" directory. Let's bundle those steps for convenience!</p><i>gulpfile.js</i><pre>	<code class=\"language-javascript\">gulp.task('default', [ 'html', 'css', 'assets' ]);	</code></pre><p>	Now, at the command line, in the root of your project, you can simply <kbd>gulp</kbd>! Let's add something useful, to illustrate Gulp's power. Let's use the excellent <a href=\"http://lesscss.org/\">LESS</a> instead of boring old CSS. Let's rewrite our 'css' gulp task:</p><p>	<kbd>&gt; npm install gulp-less gulp-rename --save-dev</kbd>, then...</p><i>gulpfile.js</i><pre>	<code class=\"language-javascript\">var less = require('gulp-less');\nvar rename = require('gulp-rename');\ngulp.task('css', function () {\n  gulp.src('src/style.less')\n    .pipe(less())\n    // Since we don't want our compiled CSS to be named \"style.less\",\n    // we'll use \"gulp-rename\":\n    .pipe(rename('style.css'))\n    .pipe(gulp.dest('dist/assets'));\n});	</code></pre><p>	Huray! No need for editor plugins - no need for tiresome build tasks - no need for massive frameworks - simply <kbd>gulp</kbd> and go! At the end of this article, I'll show some examples for my favorite gulp plugins. Most sites will probably want to minify HTML, CSS and JavaScript. They'll probably want to error check the JavaScript using something like <a href=\"http://www.jshint.com/\">jshint</a>. We can even use Gulp to deploy our static site! Before we get to deployment, let's go a step further. Let's build a development server with livereload! Sounds complex doesn't it? Not so much:</p><p>	<kbd>&gt; npm install gulp-connect --save-dev</kbd>, then...</p><i>gulpfile.js</i><pre>	<code class=\"language-javascript\">var connect = require('gulp-connect');\ngulp.task('connect', [ 'default' ], function () {\n  connect.server({\n    root: 'dist',\n    port: 9000,\n    livereload: true\n  });\n});	</code></pre><p>	You can now run a <kbd>gulp connect</kbd> and blamo! <a href=\"http://localhost:9000\">http://localhost:9000</a> - Time to celebrate!</p><p>	But wait - if you change your app/index.html, nothing happens :O Let's solve that by watching our \"src\" directory and reloading the development server when we notice something changes!</p><i>gulpfile.js</i><pre>	<code class=\"language-javascript\">var path = require('path');\ngulp.task('watch', [ 'connect' ], function () {\n  gulp.watch('src/**/*', { read: false }, function (event) {\n    // So we'll check which file was changed and send a\n    // message over to our dev server telling it to reload\n    var reloadAsset = 'index.html';\n    // We'll do all tasks by default when we see anything change\n    var taskName = 'default';\n    // But if we see a common file change, we can specifically reload that file\n    // and specifically rerun only that task\n    switch (path.extname(event.path)) {\n      case '.html':\n        reloadAsset = 'index.html';\n        taskName = 'html';\n        break;\n      case '.less':\n        reloadAsset = 'assets/style.css';\n        taskName = 'css';\n        break;\n    }\n    gulp.task('reloadBrowser', [ taskName ], function () {\n      gulp.src('dist/' + reloadAsset).pipe(connect.reload());\n    });\n    gulp.start('reloadBrowser');\n  });\n});	</code></pre><p>	You'll need the <a href='http://feedback.livereload.com/knowledgebase/articles/86242-how-do-i-install-and-use-the-browser-extensions'>LiveReload</a> plugin for your browser - once setup you can go to <a href=\"http://localhost:9000\">http://localhost:9000</a> and start making changes to your site! Watch and changes are reloaded in mere microseconds! In my tests, all 3 tasks and the browser refresh take less than 1 millisecond!</p><p>	Spend a moment adding some content to your site - play with Gulp if you need anything else (<a href=\"https://github.com/wearefractal/gulp-coffee\">Coffeescript</a>? <a href=\"https://www.npmjs.org/package/gulp-jade\">Jade</a>? <a href=\"https://www.npmjs.org/package/gulp-jshint\">JSHint</a>?). Once you're done playing with livereload, let's deploy your site!</p><h3><span class=\"glyphicon glyphicon-chevron-right\"></span> Quickly! To the Cloudmobile!</h3><p>	So what do we have so far? We have version control, we have dependency tracking, and we have an awesome streaming build system. We have everything we need to build a modern site, so now let's build a system to deploy it to the world! We'll use the excellent <a href=\"https://github.com/pkgcloud/pkgcloud\">pkgcloud</a> to stream our 'dist' directory (the final product of our build) to the cloud!</p><p>	While pkgcloud works with all the major providers, I'll focus on <a href=\"http://www.rackspace.com/\">Rackspace</a>'s <a href=\"http://www.rackspace.com/cloud/files/\">Cloud Files</a>. Full disclosure: I'm a Racker, and love Cloud Files - other clouds are available (and pkgcloud works with them just as well!)</p><p>	I'll be using a feature of Cloud Files called <a href=\"http://www.rackspace.com/blog/rackspace-cloud-files-how-to-create-a-static-website/\">Static Site</a> - If you're not a Rackspace user, you can create an account <a href=\"http://developer.rackspace.com/devtrial/\">here and get $300 free credit</a>. At $0.12/GB for CDN bandwidth, that means you can do 415GB of bandwidth per month for 6 months for essentially nothing - and with our Gulp automatically compressing and minifying files, we can stretch that 415GB to millions and millions of visitors!</p><p>	Once you're logged into your Rackspace Cloud Control panel, select \"Files\" and then create a new container. When prompted for the type, select \"Static Site\". The container name doesn't matter, but remember it for the next step! You can point your domain (if you have one) at the URL for the Cloud Files container using a CNAME record.</p><p>	So, without further ado, let's build our deployment system! We'll build it directly into Gulp for our static site example (in future articles we'll buff this up considerably). I mentioned we'd use pkgcloud - for the sake of this articles length, we'll use the wrapped <a href=\"https://github.com/pieceoftoast/gulp-cloudfiles\">gulp-cloudfiles</a> which is a <a href=\"https://github.com/pieceoftoast/gulp-cloudfiles/blob/master/index.js\">short script</a> which wraps pkgcloud.</p><p>	<kbd>&gt; npm install gulp-cloudfiles --save-dev</kbd></p><i>gulpfile.js</i><pre>	<code class=\"language-javascript\">var cloudfiles = require('cloud-files');\nvar rackspace = {\n  username: 'RACKSPACE_USERNAME_HERE',\n  apiKey: 'RACKSPACE_APIKEY_HERE',\n  // The region you created your container in:\n  // Valid values are 'IAD', 'DFW', 'ORD', 'AUS', 'HKG', 'LON'\n  region: 'IAD',\n  container: 'RACKSPACE_CONTAINER_NAME'\n};\nvar deployOptions = {\n  delay: 0,\n  uploadPath: \"\"\n};\n// Let's check the arguments - if we typed 'gulp deploy'\n// we'll set the deploy variable to true\nvar deploy = process.argv[2] === 'deploy' ? true : false;	</code></pre><p>	Awesome - now we have the ability to upload to cloud files - make sure to set the proper information in the \"rackspace\" object. \"deployOptions.delay\" allows you to set a time delay between uploading files, while \"deployOptions.uploadPath\" allows you to prefix files with a particular path.</p><p>	All that's left now is to modify our gulp tasks to be aware of the \"deploy\" variable. If we're deploying, we'll stream the files to the cloud! Let's rewrite our 'html' task first:</p><i>gulpfile.js</i><pre>	<code class=\"language-javascript\">gulp.task('html', function () {\n  var stream = gulp.src('src/index.html').pipe(gulp.dest('dist'));\n  if (deploy) {\n    stream.pipe(cloudfiles(rackspace, deployOptions));\n  }\n});	</code></pre><p>	So gulp knows what we want to do when deploying, we'll link up a \"deploy\" task to  run all our default tasks:</p><i>gulpfile.js</i><pre>	<code class=\"language-javascript\">gulp.task('deploy', [ 'default' ]);	</code></pre><p>	Now, <kbd>gulp deploy</kbd> - Congrats, you've built a complete web application!</p><iframe width=\"100%\" height=\"315\" src=\"//www.youtube.com/embed/AXwGVXD7qEQ\" frameborder=\"0\" allowfullscreen></iframe><p>	<br>	Forgive me for the episode one reference...</p><h3><span class=\"glyphicon glyphicon-chevron-right\"></span> Browserify, bundles, and all sorts of good stuff</h3><p>	So we've already built a great system which solves a huge number of issues. We have zero reliance on a server (or any single point of failure). We're being hosted by a massive CDN with over 200 edge locations. Our CSS, HTML, JavaScript, and even our images can be compressed automatically by Gulp. What else is there? Well, one of the answers to that is bundles. LESS is already achieving this for us - we have Gulp compile our single 'src/style.less' file into a style.css file in 'dist/' - but in our LESS file, we can use <a href=\"http://lesscss.org/features/#features-overview-feature-importing\">@import</a>. This will pull in the contents of another LESS file. But when converted to CSS - suddenly we have a \"bundle\" - in other words, X number of LESS files in 'src/' become ONE CSS file in 'dist/'. In our HTML we only need to use one single:</p><pre>	<code class=\"language-css\">&lt;link rel=\"stylesheet\" href=\"/assets/style.css\"&gt;	</code></pre><p>	Since our \"gulp watch\" task is basing its actions off the file extension, and since it will run the \"css\" task every time it sees a change to a \".less\" file, we can now edit _any included .less_ file and the browser will still reload! All our styles are being \"bundled\". This drastically improved browser load times by reducing HTTP request overhead.</p><p>	But that's just CSS! Let's do the same to JavaScript! In fact, why use some new command? Why not continue to use Node.js's \"require()\" that we've been using this whole tutorial? Enter <a href=\"http://browserify.org/\">Browserify</a>. Let's write a new Gulp task for Javascript! </p><p>	<kbd>&gt; npm install browserify vinyl-source-stream --save-dev</kbd></p><i>gulpfile.js</i><pre>	<code class=\"language-javascript\">var browserify = require('browserify');\nvar source = require('vinyl-source-stream');\ngulp.task('javascript', function () {\n  var stream = browserify({\n    entries: [ './src/index.js' ],\n    extensions: [ '.js' ]\n  })\n    .bundle()\n    .pipe(source('bundle.js'))\n    .pipe(gulp.dest('dist/assets'));\n  if (deploy) {\n    stream.pipe(cloudfiles(rackspace, deployOptions));\n  }\n});	</code></pre><p>	Now we've got the ability to use \"require()\" in our 'src/index.js'! We can now bundle X number of JavaScript files into a single JavaScript bundle! This means the HTML only needs one single:</p><pre>	<code class=\"language-css\">&lt;script type=\"text/javascript\" src=\"/assets/bundle.js\"&gt;&lt;/script&gt;	</code></pre><p>	And yes, you can <kbd>require('jquery');</kbd> or <kbd>require('angular');</kbd> if you want - those files will automatically be bundled up into your 'dist/assets/bundle.js' (and minified if you choose to do so).</p><h3><span class=\"glyphicon glyphicon-chevron-right\"></span> In summary</h3><p>	We just built quite a lot! We have a new site project, we got a nice developer discount from Rackspace, we have a build system which we can easily extend to include our favorite technologies, we have a built-in development server which never touches or mucks up our code base - we have a production environment which we can deploy to - we even have bundles for CSS and JavaScript to improve load times and reduce bandwidth overhead!</p><p>	There are still a lot of improvements to make. We can add:	<ul>		<li>A test and QA Cloud Container and the ability to deploy to these easily <kbd>gulp deploy test</kbd></li>		<li>Proper QA testing and Linting - a <kbd>gulp lint</kbd> task and something like <a href=\"http://visionmedia.github.io/mocha/\">mocha</a></li>		<li>Path prefixing for CSS and HTML - ie: the ability to change asset URLs when we deploy</li>		<li>The ability to bundle HTML - <a href=\"https://github.com/JohnPostlethwait/stringify\">Stringify</a></li>		<li>The ability to have our development server rewrite URLs - <a href=\"https://github.com/tinganho/connect-modrewrite\">connect-modrewrite</a></li>		<li>A back end! This will be the topic of part 2 of this article - Coming soon!</li>	</ul></p><p>	This entire website is based on this tech. I am a firm believer that the vast majority of the web out there could be 100% static. This site for instance, is 100% static and yet features a blog, multiple pages, permalinks, etc. Run a Google Pagespeed against my site!</p><p>	The full source code to my site can be found here: <a href=\"https://github.com/erulabs/erulabs.com\">https://github.com/erulabs/erulabs.com</a></p><p>	It has a bit more complex examples for Gulp, and addresses many of the improvements listed above. Please feel free to email me at seandon.mooy@gmail.com with any questions you might have (or recommendations!)</p><p>	Good luck and happy hacking! - Seandon Mooy</p>"},{}],3:[function(e,t){t.exports='<h3><span class="glyphicon glyphicon-chevron-right"></span> PHP hasn\'t gone away,</h3><p>  and there are still a huge number of sites out there making use of Wordpress, Drupal or custom PHP code. They\'re slow to respond, they often require Apache (massive .htaccess files anyone?), they have central points of failure (single MySQL master), they cache incredibly poorly (if at all), and they spend almost all their time serving static content off the disk (in the case of most blogs in 2015 - they\'re primarily serving photos.)</p><p>  So what to do? How does the state of the Cloud in 2015 help solve these problems? Let\'s first look at some of the primary problems with a typical Drupal7 installation:</p><p>  <ul>    <li>Apache 2.2 is slow, and .htaccess files make things much slower (did you know they\'re searched for, read, interpretted, and executed on <i>every single web request</i>?)</li>    <br>    <li>MySQL is slow and fragile - with a single point of failure inherent in even Master-Slave replication setups. At the very best, a manual failover to the Slave server is required to bring things back online in the case of losing the Master. The MySQL server can run into common issues like hitting its "max connection" limit, taking down the entire site. In terms of performance, at least Drupal fails to read effectively from a slave, even with custom plugins, as it\'s reads and writes are so tightly coupled that even in large environments, it\'s very common for all nodes to <i>only ever</i> communicate with the Master, totally ignoring the Slave\'s read capacity.</li>    <br>    <li>PHP is slow, and if being run via MOD_PHP in Apache, is not taking advantage of the multiple cores of your system properly. It\'s probably not caching very well either - even if you\'re using APC cache or the newer APCu cache, they\'re terribly ineffective and not shared between PHP instances. Beyond that, since Apache recycles it\'s workers, the APC cache will be getting cleared constantly, further lowering cache hit rates.</li>    <br>    <li>Older servers are slow. Tech has improved a lot on the hardware side of things in the past 5 years - if you\'re still running PHP5.4, you\'re probably not running on a cost-effective system.</li>    <br>    <li>Caching is a problem, as well as serving static content - as anyone who has scaled a PHP application before knows, dealing with uploaded files is a nightmare and often includes another single point of failure as well as clunky and slow tools like LSYNC, NFS, or Gluster.</li>  </ul></p><p><br><h3><span class="glyphicon glyphicon-chevron-right"></span> Now - Solutions!</h3></p><p>  <ul>    <li>Since .htaccess files can\'t easily be rewritten without a huge amount of effort, we\'ll continue to use Apache. But Apache has gotten a _lot_ faster in Apache 2.4 and with the "Event" worker module. We can continue to support the .htaccess rewrite rules, get all the benefits of a properly threaded web server, and we can make use of PHP-FPM to help speed up PHP.</li>    <br>    <li>MySQL has also gotten much much faster in the wake of MariaDB 10.0. MariaDB is a drop in replacement for MySQL which is fully compatible with Drupal 7, Wordpress, and more or less any PHP application. It also supports Master/Master replication, which will allow us to properly scale our PHP application across multiple nodes.</li>    <br>    <li>As mentioned before, Apache 2.4 allows us to make use of PHP-FPM (just like Nginx does), while still being able to support nasty legacty rewrite rules and .htaccess syntax. We\'ll also upgrade to a modern version of PHP, PHP5.6, and configure the vastly improved (yet very poorly documented) PHP OpCache module.</li>    <br>    <li>We\'ll upgrade to modern servers in our rebuild - with an eye for maximizing compute capacity for our dollar, as PHP applications are primary CPU bound, which some exception made for large MySQL databases, which will in turn require a large amount of RAM.</li>    <br>    <li>By making use of a CDN (such as Rackspace\'s Cloud Files) as well as Varnish4.0, we\'ll vastly improve the caching potential of our application while simultaniously offloading the vast majority of the file requests.</li>  </ul></p><p><br><h3><span class="glyphicon glyphicon-chevron-right"></span> Hit the ground running</h3></p><p>  Let\'s start by building a new Ubuntu 14.04 server - I recommend Rackspace Performance Cloud servers. You can get a developer account with a nice discount here at <a href="https://developer.rackspace.com/">developer.rackspace.com</a>. You can use whatever distribution you\'d like, but this guide will be specific for Ubuntu 14.04. I recommend using something like Chef to automate this setup as well (and I\'ll provide a link to an example cookbook) - if you\'re not automating this, I recommend building on a fairly large server. As much as we\'ll improve things, PHP still scales best vertically. A small number of powerful servers will preform _far better_ than a large number of small servers. If you\'re looking for absolute best value for money, take a look at <a href="http://www.rackspace.com/cloud/servers/onmetal">Rackspace OnMetal Compute</a> servers. They\'re expensive, but two of those babies behind a load balancer can host a massive national Drupal site without breaking a sweat. The 10,000mbps networking between servers also helps ensure MySQL master/master replication is extremely fast.</p><p>Upgrading and updating your new server:</p><p><kbd>&gt; apt-get update &amp;&amp; apt-get -y upgrade &amp;&amp; reboot</kbd></p><!--   ###    ########     ###     ######  ##     ## ########  ## ##   ##     ##   ## ##   ##    ## ##     ## ## ##   ##  ##     ##  ##   ##  ##       ##     ## ####     ## ########  ##     ## ##       ######### ############### ##        ######### ##       ##     ## ####     ## ##        ##     ## ##    ## ##     ## ####     ## ##        ##     ##  ######  ##     ## ########--><p><br><h3><span class="glyphicon glyphicon-chevron-right"></span> Apache 2.4 with MPM_EVENT installation and configuration</h3></p><p>Use Apache2 from the Debian Apache2 team\'s repositories:</p><p><kbd>&gt; apt-add-repository ppa:ondrej/apache2</kbd></p><p><kbd>&gt; apt-get update</kbd></p><p>Install Apache2 and mod_fastcgi:</p><p><kbd>&gt; apt-get install apache2 libapache2-mod-fastcgi</kbd></p><p>Enable Apache2 to proxy pass to PHP:</p><p><kbd>&gt; a2enmod proxy_fcgi</kbd></p><p>Enable Apache2 modules which help support older .htaccess configurations:</p><p><kbd>&gt; a2enmod headers rewrite</kbd></p><p>Configure MPM_EVENT: <i>/etc/apache2/mods-available/mpm_event.conf</i></p><pre>  <code class="language-bash">&lt;IfModule mpm_event_module&gt;\n  # Ensure poorly performing connections timeout eventually\n  Timeout                  300\n  # The initial number of Apache workers to start\n  StartServers             5\n  # minimum number of worker threads which are kept spare\n  MinSpareThreads          25\n  # maximum number of worker threads which are kept spare\n  MaxSpareThreads          64\n  # constant number of worker threads in each server process\n  ThreadsPerChild          25\n  # Maximum number of worker threads\n  MaxRequestWorkers        150\n  # Max number of requests a worker serves before being recycled (this is important for PHP)\n  # as we want to help PHP kill memory leaks by recycling requests eventually\n  MaxConnectionsPerChild   10000\n&lt;/IfModule&gt;  </code></pre><!--########  ##     ## ########  ########  #########     ## ##     ## ##     ## ##       ##     ####     ## ##     ## ##     ## ##       ##########  ######### ########  #######  ##########        ##     ## ##              ## ##     ####        ##     ## ##        ##    ## ##     ####        ##     ## ##         ######   #######--><p><br><h3><span class="glyphicon glyphicon-chevron-right"></span> PHP5.6, OpCache, PHP-FPM</h3></p><p>Use PHP5.6 from the Debian Apache2 team\'s repositories:</p><p><kbd>&gt; apt-add-repository ppa:ondrej/php5-5.6</kbd></p><p><kbd>&gt; apt-get update</kbd></p><p>Install PHP5, PHP-FPM, and whichever modules you\'ll need:</p><p><kbd>&gt; apt-get install php5 php5-fpm php5-mysql php5-redis php5-curl php5-gd</kbd></p><p>Disable Apache\'s built-in PHP module:</p><p><kbd>&gt; a2dismod php5</kbd></p><p>Configure PHP Opcache: <i>/etc/php5/mods-available/opcache.ini</i> (do not copy the comment lines)</p><pre>  <code class="language-bash">zend_extension=opcache.so\nopcache.enable=1\n# The amount of memory in MB each PHP-FPM instance is allowed to use for cache\nopcache.memory_consumption=256\n# The amount of shared memory in MB all FPM processes allocate for storing string values.\n# Drupal and wordpress especially benefit from a fairly large buffer. Try 16 or 32\nopcache.interned_strings_buffer=32\n# The max number of scripts OpCache will keep in memory.\n# Place https://raw.githubusercontent.com/rlerdorf/opcache-status/master/opcache.php\n# on the server and take a peek at the output in your browser\n# - It can help caculate the number of PHP files.\nopcache.max_accelerated_files=3907\nopcache.fast_shutdown=1\n# The maximum size of scripts that will be cached\nopcache.max_file_size=0\nopcache.enable_cli=1\nopcache.error_log=/tmp/opcache.log\n# The most important value in the configuration file, aside from memory limits\n# Setting the value to 0 means once PHP scripts are cached in memory, they will _never_\n# be read again. A "service php5-fpm reload" is _required_. This _massively_ increases the performance\n# of the site, but you must understand the consequences. Do not set if reloading a service on every\n# change sounds horrible. If not, set this to zero and enjoy the massive speed improvement.\nopcache.validate_timestamps=0\n# Should you decide you do not want to have to reload the server (or you\'re configuring a development\n# environment), set this value to either 60, 120, or 0. 0 forces a recheck of the file _every load_,\n# more or less defeating the purpose of OpCache.\n#opcache.revalidate_freq=0  </code></pre><p>Modify PHP-FPM pool: <i>/etc/php5/fpm/pool.d/www.conf</i></p><pre>  <code class="language-bash"># Ensure PHP-FPM listens on a Unix Socket, which is must faster than a TCP socketlisten = /var/run/php5-fpm.sock\nlisten.backlog = 65535\npm = dynamic\n# Carefully consider the following options\npm.max_children = 30\npm.start_servers = 5\npm.min_spare_servers = 4\npm.max_spare_servers = 10\npm.max_requests = 10000\nrlimit_files = 8192\n# These options effect error logging - they should probably be disabled in production\n# But you won\'t receive all errors messaged without catch_workers_output\ncatch_workers_output = yes\nphp_admin_value[display_errors] = stderr\nphp_admin_value[error_log] = /var/log/fpm-php.www.log\nphp_admin_flag[log_errors] = on  </code></pre><p>Modify Apache2 Vhost to proxy pass to PHP:</p><pre>  <code class="language-bash"># Added to the end of the Vhost configuration, before the &lt;/VirtualHost&gt;\nProxyPassMatch ^/(.*.php(/.*)?)$ unix:/var/run/php5-fpm.sock|fcgi://localhost/path/to/doc/root\n# Note that "/path/to/doc/root" must be an absolute path. An example:\n# ProxyPassMatch ^/(.*.php(/.*)?)$ unix:/var/run/php5-fpm.sock|fcgi://localhost/var/www/site/htdocs  </code></pre><p>Since we\'ll be using Varnish to cache for Apache, make sure you\'re Apache instance isn\'t listening directly on port 80. I typically set Apache to port 8080, while Varnish will take care of proxy requests from 80 to Apache\'s 8080.</p><!--##     ##    ###    ########  ####    ###    ########  ###########   ###   ## ##   ##     ##  ##    ## ##   ##     ## ##     ###### ####  ##   ##  ##     ##  ##   ##   ##  ##     ## ##     #### ### ## ##     ## ########   ##  ##     ## ##     ## ##########     ## ######### ##   ##    ##  ######### ##     ## ##     ####     ## ##     ## ##    ##   ##  ##     ## ##     ## ##     ####     ## ##     ## ##     ## #### ##     ## ########  ########--><p><br><h3><span class="glyphicon glyphicon-chevron-right"></span> MariaDB 10.0 Galera Cluster &amp; tuning</h3></p><p>MariaDB 10.0 contains countless improvements over older MySQL 5.5 distributions. In addition, we\'ll configure our databases as a Master/Master cluster - this is called "Galera Clustering" in MariaDB. I strongly suggest all experienced MySQL users read the official guide to Galera, <a href="https://mariadb.com/kb/en/mariadb/documentation/managing-mariadb/replication/galera/getting-started-with-mariadb-galera-cluster/">located here</a>.</p><p>Add repositories for MariaDB 10.0:</p><p><kbd>&gt; apt-get install software-properties-common</kbd></p><p><kbd>&gt; apt-key adv --recv-keys --keyserver hkp://keyserver.ubuntu.com:80 0xcbcb082a1bb943db</kbd></p><p><kbd>&gt; add-apt-repository \'deb http://ftp.osuosl.org/pub/mariadb/repo/10.0/ubuntu trusty main\'</kbd></p><p><kbd>&gt; apt-get update</kbd></p><p>Install MariaDB 10.0 Galera server</p><p><kbd>&gt; mariadb-galera-server</kbd></p><p>Galera Clustering is not terribly difficult, although it\'s highly recommended that one reads the above link regarding Getting Started with Galera. In the most basic setup, we really only need to enable a few things in our <i>my.cnf</i>:</p><pre>  <code class="language-bash"># Turn on Galera Clustering\nwsrep_on                 = ON\nwsrep_provider           = /usr/lib/galera/libgalera_smm.so\n# Ensure PRIVATE_NETWORK_ADDRESS is a protected private network\n# like Rackspace\'s ServiceNet, for instance.\n# wsrep_node_address and wsrep_node_incoming_address are used to\n# fix potential problems with autodetecting\nbind-address             = PRIVATE_NETWORK_ADDRESS\nwsrep_node_address       = PRIVATE_NETWORK_ADDRESS:4567\nwsrep_node_incoming_address = PRIVATE_NETWORK_ADDRESS\n\n# On your FIRST server, start MySQL with the following setting:\nwsrep_cluster_address    = gcomm://\n# On the SECOND server, start MySQL with the following:\nwsrep_cluster_address    = gcomm://IPADDRESS_OF_FIRST_SERVER\n# After starting the 2nd server and ensuring it joins the cluster, change the wsrep_cluster_address\n# back on the 1st server to point to the 2nd. This way each server can "rejoin" the cluster after a restart\nwsrep_cluster_address    = gcomm://IPADDRESS_OF_SECOND_SERVER\n# Should you create a 3rd server, you\'ll only need to provide one address of either cluster node\n# and Galera will figure everything else out for you.\n\n# A static name which must be the same on all nodes\nwsrep_cluster_name       = "my_cluster_name"\nwsrep_sst_method         = \'rsync\'\n# A MYSQL user with all permissions used for Galera Replication\nwsrep_sst_auth           = root:MYSQL_ROOT_PASSWORD\n\n# Some INNODB settings are _required_ for Galera\nbinlog_format            = ROW\ninnodb_autoinc_lock_mode = 2\ninnodb_doublewrite       = 1  </code></pre><p>You may notice the port "4567" in the config. That\'s Galera, which helps monitor the servers and helps new nodes join. Make sure your firewall allows your servers to communicate on both ports 3306 and 4567.</p><p>Tuning the database</p><!--##     ##    ###    ########  ##    ## ####  ######  ##     ####     ##   ## ##   ##     ## ###   ##  ##  ##    ## ##     ####     ##  ##   ##  ##     ## ####  ##  ##  ##       ##     ####     ## ##     ## ########  ## ## ##  ##   ######  ######### ##   ##  ######### ##   ##   ##  ####  ##        ## ##     ##  ## ##   ##     ## ##    ##  ##   ###  ##  ##    ## ##     ##   ###    ##     ## ##     ## ##    ## ####  ######  ##     ##--><p><br><h3><span class="glyphicon glyphicon-chevron-right"></span> Varnish 4.0 and Redis</h3></p><p>  Varnish 4.0 contains huge improvements over Varnish 3, mostly regarding improve the initial response time. Read <a href="https://www.varnish-cache.org/docs/trunk/whats-new/changes.html#client-backend-split">more here</a>.</p><p>Add repositories for Varnish 4.0:</p><p><kbd>&gt; apt-get install apt-transport-https</kbd></p><p><kbd>&gt; curl https://repo.varnish-cache.org/ubuntu/GPG-key.txt | sudo apt-key add -</kbd></p><p><kbd>&gt; echo "deb https://repo.varnish-cache.org/ubuntu/ trusty varnish-4.0" >> /etc/apt/sources.list.d/varnish-cache.list</kbd></p><p><kbd>&gt; apt-get update</kbd></p><p>Install Varnish 4.0:</p><p><kbd>&gt; apt-get install varnish</kbd></p><p>Configuring Varnish 4.0 for Drupal</p><pre>  <code class="language-bash">vcl 4.0;\n# Default backend definition. Set this to point to your content server.\nbackend default {\n    .host = "127.0.0.1";\n    .port = "8080";\n}\nsub vcl_recv {\n    # Here we filter out all URLs containing Drupal administrative sections\n    if (req.url ~ "^/status.php$" ||\n        req.url ~ "^/update.php$" ||\n        req.url ~ "^/admin$" ||\n        req.url ~ "^/admin/.*$" ||\n        req.url ~ "^/user$" ||\n        req.url ~ "^/user/.*$" ||\n        req.url ~ "^/flag/.*$" ||\n        req.url ~ "^.*/ajax/.*$" ||\n        req.url ~ "^.*/ahah/.*$") {\n           return (pass);\n    }\n    # Backup and Migrate is a very popular Drupal module that needs to be excluded\n    # It won\'t work with Varnish\n    if (req.url ~ "^/admin/content/backup_migrate/export") {\n        return (pipe);\n    }\n    # Remove cookies for stylesheets, scripts, and images used throughout the site.\n    # Removing cookies will allow Varnish to cache those files.\n    if (req.url ~ "(?i).(css|js|jpg|jpeg|gif|png|ico)(?.*)?$") {\n        unset req.http.Cookie;\n    }\n    # Remove all cookies that are not necessary for Drupal to work properly.\n    # Since it would be cumbersome to REMOVE certain cookies, we specify\n    # which ones are of interest to us, and remove all others. In this particular\n    # case we leave SESS, SSESS and NO_CACHE cookies used by Drupal\'s administrative\n    # interface. Cookies in cookie header are delimited with ";", so when there are\n    # many cookies, the header looks like "Cookie1=value1; Cookie2=value2; Cookie3..."\n    # and so on. That allows us to work with ";" to split cookies into individual\n    # ones.\n    # The method for filtering unnecessary cookies has been adopted from:\n    # https://fourkitchens.atlassian.net/wiki/display/TECH/Configure+Varnish+3+for+Drupal+7\n    if (req.http.Cookie) {\n        # 1. We add ; to the beginning of cookie header\n        set req.http.Cookie = ";" + req.http.Cookie;\n        # 2. We remove spaces following each occurence of ";". After this operation\n        # all cookies are delimited with no spaces.\n        set req.http.Cookie = regsuball(req.http.Cookie, "; +", ";");\n        # 3. We replace ";" INTO "; " (adding the space we have previously removed) in cookies\n        # named SESS..., SSESS... and NO_CACHE. After this operation those cookies will be\n        # easy to differentiate from the others, because those will be the only one with space\n        # after ";"\n        set req.http.Cookie = regsuball(req.http.Cookie, ";(SESS[a-z0-9]+|SSESS[a-z0-9]+|NO_CACHE)=", "; =");\n        # 4. We remove all cookies with no space after ";", so basically we remove all cookies other\n        # than those above.\n        set req.http.Cookie = regsuball(req.http.Cookie, ";[^ ][^;]*", "");\n        # 5. We strip leading and trailing whitespace and semicolons.\n        set req.http.Cookie = regsuball(req.http.Cookie, "^[; ]+|[; ]+$", "");\n        # If there are no cookies after our striping procedure, we remove the header altogether,\n        # thus allowing Varnish to cache this page\n        if (req.http.Cookie == "") {\n            unset req.http.Cookie;\n        }\n        # if any of our cookies of interest are still there, we disable caching and pass the request\n        # straight to Apache and Drupal\n        else {\n            return (pass);\n        }\n    }\n}\nsub vcl_backend_response {\n    # Remove cookies for stylesheets, scripts and images used throughout the site.\n    # Removing cookies will allow Varnish to cache those files. It is uncommon for\n    # static files to contain cookies, but it is possible for files generated\n    # dynamically by Drupal. Those cookies are unnecessary, but could prevent files\n    # from being cached.\n    if (bereq.url ~ "(?i).(css|js|jpg|jpeg|gif|png|ico)(?.*)?$") {\n        unset beresp.http.set-cookie;\n    }\n}  </code></pre><p>Also make sure you take a peek at the default Varnish configuration in <i>/etc/default/varnish</i>. You\'ll want to at least ensure it\'s listening on port 80 and has a bit more than the default amount of RAM:</p><pre>  <code class="language-bash">DAEMON_OPTS="-a :80 \\\n             -T localhost:6082 \\\n             -f /etc/varnish/default.vcl \\\n             -S /etc/varnish/secret \\\n             -s malloc,512m"  </code></pre><!--########  ######## ########  ####  ########     ## ##       ##     ##  ##  ##    ####     ## ##       ##     ##  ##  ##########  ######   ##     ##  ##   ########   ##   ##       ##     ##  ##        ####    ##  ##       ##     ##  ##  ##    ####     ## ######## ########  ####  ######--><p><br><h3><span class="glyphicon glyphicon-chevron-right"></span> Redis Cache</h3></p><!--########  ########  ##     ## ########     ###    ####     ## ##     ## ##     ## ##     ##   ## ##   ####     ## ##     ## ##     ## ##     ##  ##   ##  ####     ## ########  ##     ## ########  ##     ## ####     ## ##   ##   ##     ## ##        ######### ####     ## ##    ##  ##     ## ##        ##     ## ##########  ##     ##  #######  ##        ##     ## ########--><p><br><h3><span class="glyphicon glyphicon-chevron-right"></span> High Performance Drupal</h3></p><p>  Drupal\'s <a href="https://www.drupal.org/project/varnish">Varnish module</a> really isn\'t bad, but it lacks support for Varnish 4.0. Luckily, there exists a <a href="http://cgit.drupalcode.org/varnish/">development version</a> of the module which supports Varnish 4.0 and works wonderfully. You can clone that repo into your "DOCROOT/sites/all/modules/" directory:</p><p><kbd>&gt; git clone http://git.drupal.org/project/varnish.git</kbd></p><p>  I\'ll leave configuration of the Varnish module as an excercize to the reader - however, ensure you set a Varnish secret and make sure Drupal can communicate with Varnish correctly. You\'ll also want to make sure you select "4.x" from the dropdown menu regarding Varnish\'s versions.</p><p>  Drupal\'s <a href="https://www.drupal.org/project/redis">Redis module</a> is also not bad, but you\'re much better off getting the newest version from the developers:</p><p><kbd>&gt; git clone http://git.drupal.org/project/redis.git</kbd></p><p></p><p>Drupal\'s site settings</p><p>  Using a CDN - Cloud Files and CDN modules. The Rackspace <a href="https://www.drupal.org/project/cloud_files">Cloud Files module</a> is quite good, but lacks a few crucial patches and bug fixes - additionally, it uploads all files over PublicNet, rather than Rackspace\'s ServerNet. Checkout my branch, located <a href="https://github.com/erulabs/drupal7_cloud_files">on github</a>. Incase you do not want to use ServiceNet, read the README document and remove references to "internalUrl" in the code.</p><p><kbd>&gt; git clone http://github.com/erulabs/drupal7_cloud_files</kbd></p><p>Database logging</p><p>Updating modules</p><!--##     ## ########  ##     ## ##    ## ######## ##     ####     ## ##     ## ##     ## ###   ##    ##    ##     ####     ## ##     ## ##     ## ####  ##    ##    ##     ####     ## ########  ##     ## ## ## ##    ##    ##     ####     ## ##     ## ##     ## ##  ####    ##    ##     ####     ## ##     ## ##     ## ##   ###    ##    ##     ## #######  ########   #######  ##    ##    ##     #######--><p><br><h3><span class="glyphicon glyphicon-chevron-right"></span> Tuning Ubuntu for the Cloud</h3></p><p>sysctl settings</p><!--##      ## ########     ###    ########     ##     ## ##########  ##  ## ##     ##   ## ##   ##     ##    ##     ## ##     ####  ##  ## ##     ##  ##   ##  ##     ##    ##     ## ##     ####  ##  ## ########  ##     ## ########     ##     ## ##########  ##  ## ##   ##   ######### ##           ##     ## ####  ##  ## ##    ##  ##     ## ##           ##     ## ## ###  ###  ##     ## ##     ## ##            #######  ## --><p><br><h3><span class="glyphicon glyphicon-chevron-right"></span> Wrap up - Finishing touches</h3></p><p>NewRelic</p><p>Rackspace Cloud Monitoring</p><p>Backups / Holland</p>'
},{}],4:[function(){!function(e,t,n){"use strict";function r(e){return function(){var t,n,r=arguments[0],i="["+(e?e+":":"")+r+"] ",o=arguments[1],a=arguments,s=function(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e};for(t=i+o.replace(/\{\d+\}/g,function(e){var t,n=+e.slice(1,-1);return n+2<a.length?(t=a[n+2],"function"==typeof t?t.toString().replace(/ ?\{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?U(t):t):e}),t=t+"\nhttp://errors.angularjs.org/1.2.16/"+(e?e+"/":"")+r,n=2;n<arguments.length;n++)t=t+(2==n?"?":"&")+"p"+(n-2)+"="+encodeURIComponent(s(arguments[n]));return new Error(t)}}function i(e){if(null==e||A(e))return!1;var t=e.length;return 1===e.nodeType&&t?!0:w(e)||x(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function o(e,t,n){var r;if(e)if(S(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r);else if(e.forEach&&e.forEach!==o)e.forEach(t,n);else if(i(e))for(r=0;r<e.length;r++)t.call(n,e[r],r);else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r);return e}function a(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function s(e,t,n){for(var r=a(e),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function l(e){return function(t,n){e(n,t)}}function u(){for(var e,t=Pr.length;t;){if(t--,e=Pr[t].charCodeAt(0),57==e)return Pr[t]="A",Pr.join("");if(90!=e)return Pr[t]=String.fromCharCode(e+1),Pr.join("");Pr[t]="0"}return Pr.unshift("0"),Pr.join("")}function c(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function h(e){var t=e.$$hashKey;return o(arguments,function(t){t!==e&&o(t,function(t,n){e[n]=t})}),c(e,t),e}function p(e){return parseInt(e,10)}function f(e,t){return h(new(h(function(){},{prototype:e})),t)}function d(){}function g(e){return e}function m(e){return function(){return e}}function v(e){return"undefined"==typeof e}function $(e){return"undefined"!=typeof e}function y(e){return null!=e&&"object"==typeof e}function w(e){return"string"==typeof e}function b(e){return"number"==typeof e}function k(e){return"[object Date]"===Cr.call(e)}function x(e){return"[object Array]"===Cr.call(e)}function S(e){return"function"==typeof e}function C(e){return"[object RegExp]"===Cr.call(e)}function A(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function E(e){return e&&e.$evalAsync&&e.$watch}function P(e){return"[object File]"===Cr.call(e)}function T(e){return"[object Blob]"===Cr.call(e)}function j(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function M(e,t,n){var r=[];return o(e,function(e,i,o){r.push(t.call(n,e,i,o))}),r}function O(e,t){return-1!=_(e,t)}function _(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}function N(e,t){var n=_(e,t);return n>=0&&e.splice(n,1),t}function D(e,t){if(A(e)||E(e))throw Ar("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(t){if(e===t)throw Ar("cpi","Can't copy! Source and destination are identical.");if(x(e)){t.length=0;for(var n=0;n<e.length;n++)t.push(D(e[n]))}else{var r=t.$$hashKey;o(t,function(e,n){delete t[n]});for(var i in e)t[i]=D(e[i]);c(t,r)}}else t=e,e&&(x(e)?t=D(e,[]):k(e)?t=new Date(e.getTime()):C(e)?t=new RegExp(e.source):y(e)&&(t=D(e,{})));return t}function R(e,t){t=t||{};for(var n in e)!e.hasOwnProperty(n)||"$"===n.charAt(0)&&"$"===n.charAt(1)||(t[n]=e[n]);return t}function q(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var r,i,o,a=typeof e,s=typeof t;if(a==s&&"object"==a){if(!x(e)){if(k(e))return k(t)&&e.getTime()==t.getTime();if(C(e)&&C(t))return e.toString()==t.toString();if(E(e)||E(t)||A(e)||A(t)||x(t))return!1;o={};for(i in e)if("$"!==i.charAt(0)&&!S(e[i])){if(!q(e[i],t[i]))return!1;o[i]=!0}for(i in t)if(!o.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t[i]!==n&&!S(t[i]))return!1;return!0}if(!x(t))return!1;if((r=e.length)==t.length){for(i=0;r>i;i++)if(!q(e[i],t[i]))return!1;return!0}}return!1}function I(){return t.securityPolicy&&t.securityPolicy.isActive||t.querySelector&&!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"))}function H(e,t,n){return e.concat(xr.call(t,n))}function L(e,t){return xr.call(e,t||0)}function V(e,t){var n=arguments.length>2?L(arguments,2):[];return!S(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat(xr.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function F(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)?i=n:A(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":E(r)&&(i="$SCOPE"),i}function U(e,t){return"undefined"==typeof e?n:JSON.stringify(e,F,t?"  ":null)}function W(e){return w(e)?JSON.parse(e):e}function B(e){if("function"==typeof e)e=!0;else if(e&&0!==e.length){var t=fr(""+e);e=!("f"==t||"0"==t||"false"==t||"no"==t||"n"==t||"[]"==t)}else e=!1;return e}function z(e){e=yr(e).clone();try{e.empty()}catch(t){}var n=3,r=yr("<div>").append(e).html();try{return e[0].nodeType===n?fr(r):r.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+fr(t)})}catch(t){return fr(r)}}function G(e){try{return decodeURIComponent(e)}catch(t){}}function J(e){var t,n,r={};return o((e||"").split("&"),function(e){if(e&&(t=e.split("="),n=G(t[0]),$(n))){var i=$(t[1])?G(t[1]):!0;r[n]?x(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i}}),r}function Q(e){var t=[];return o(e,function(e,n){x(e)?o(e,function(e){t.push(K(n,!0)+(e===!0?"":"="+K(e,!0)))}):t.push(K(n,!0)+(e===!0?"":"="+K(e,!0)))}),t.length?t.join("&"):""}function Y(e){return K(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function K(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function X(e,n){function r(e){e&&s.push(e)}var i,a,s=[e],l=["ng:app","ng-app","x-ng-app","data-ng-app"],u=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;o(l,function(n){l[n]=!0,r(t.getElementById(n)),n=n.replace(":","\\:"),e.querySelectorAll&&(o(e.querySelectorAll("."+n),r),o(e.querySelectorAll("."+n+"\\:"),r),o(e.querySelectorAll("["+n+"]"),r))}),o(s,function(e){if(!i){var t=" "+e.className+" ",n=u.exec(t);n?(i=e,a=(n[2]||"").replace(/\s+/g,",")):o(e.attributes,function(t){!i&&l[t.name]&&(i=e,a=t.value)})}}),i&&n(i,a?[a]:[])}function Z(n,r){var i=function(){if(n=yr(n),n.injector()){var e=n[0]===t?"document":z(n);throw Ar("btstrpd","App Already Bootstrapped with this Element '{0}'",e)}r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),r.unshift("ng");var i=Nt(r);return i.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),i},a=/^NG_DEFER_BOOTSTRAP!/;return e&&!a.test(e.name)?i():(e.name=e.name.replace(a,""),void(Er.resumeBootstrap=function(e){o(e,function(e){r.push(e)}),i()}))}function et(e,t){return t=t||"_",e.replace(jr,function(e,n){return(n?t:"")+e.toLowerCase()})}function tt(){wr=e.jQuery,wr?(yr=wr,h(wr.fn,{scope:Br.scope,isolateScope:Br.isolateScope,controller:Br.controller,injector:Br.injector,inheritedData:Br.inheritedData}),ht("remove",!0,!0,!1),ht("empty",!1,!1,!1),ht("html",!1,!1,!0)):yr=gt,Er.element=yr}function nt(e,t,n){if(!e)throw Ar("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function rt(e,t,n){return n&&x(e)&&(e=e[e.length-1]),nt(S(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function it(e,t){if("hasOwnProperty"===e)throw Ar("badname","hasOwnProperty is not a valid {0} name",t)}function ot(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;a>s;s++)r=i[s],e&&(e=(o=e)[r]);return!n&&S(e)?V(o,e):e}function at(e){var t=e[0],n=e[e.length-1];if(t===n)return yr(t);var r=t,i=[r];do{if(r=r.nextSibling,!r)break;i.push(r)}while(r!==n);return yr(i)}function st(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=r("$injector"),i=r("ng"),o=t(e,"angular",Object);return o.$$minErr=o.$$minErr||r,t(o,"module",function(){var e={};return function(r,o,a){var s=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return s(r,"module"),o&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function e(e,n,r){return function(){return t[r||"push"]([e,n,arguments]),l}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var t=[],i=[],s=e("$injector","invoke"),l={_invokeQueue:t,_runBlocks:i,requires:o,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:s,run:function(e){return i.push(e),this}};return a&&s(a),l})}})}function lt(t){h(t,{bootstrap:Z,copy:D,extend:h,equals:q,element:yr,forEach:o,injector:Nt,noop:d,bind:V,toJson:U,fromJson:W,identity:g,isUndefined:v,isDefined:$,isString:w,isFunction:S,isObject:y,isNumber:b,isElement:j,isArray:x,version:Mr,isDate:k,lowercase:fr,uppercase:gr,callbacks:{counter:0},$$minErr:r,$$csp:I}),br=st(e);try{br("ngLocale")}catch(n){br("ngLocale",[]).provider("$locale",rn)}br("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Mn}),e.provider("$compile",Vt).directive({a:Ci,input:Di,textarea:Di,form:Ti,script:vo,select:wo,style:ko,option:bo,ngBind:Gi,ngBindHtml:Qi,ngBindTemplate:Ji,ngClass:Yi,ngClassEven:Xi,ngClassOdd:Ki,ngCloak:Zi,ngController:eo,ngForm:ji,ngHide:co,ngIf:no,ngInclude:ro,ngInit:oo,ngNonBindable:ao,ngPluralize:so,ngRepeat:lo,ngShow:uo,ngStyle:ho,ngSwitch:po,ngSwitchWhen:fo,ngSwitchDefault:go,ngOptions:yo,ngTransclude:mo,ngModel:Vi,ngList:Wi,ngChange:Fi,required:Ui,ngRequired:Ui,ngValue:zi}).directive({ngInclude:io}).directive(Ai).directive(to),e.provider({$anchorScroll:Dt,$animate:ei,$browser:It,$cacheFactory:Ht,$controller:Wt,$document:Bt,$exceptionHandler:zt,$filter:Fn,$interpolate:tn,$interval:nn,$http:Kt,$httpBackend:Zt,$location:vn,$log:$n,$parse:An,$rootScope:jn,$q:En,$sce:Rn,$sceDelegate:Dn,$sniffer:qn,$templateCache:Lt,$timeout:In,$window:Vn,$$rAF:Tn,$$asyncCallback:Rt})}])}function ut(){return++Nr}function ct(e){return e.replace(qr,function(e,t,n,r){return r?n.toUpperCase():n}).replace(Ir,"Moz$1")}function ht(e,t,n,r){function i(e){var i,a,s,l,u,c,h,p=n&&e?[this.filter(e)]:[this],f=t;if(!r||null!=e)for(;p.length;)for(i=p.shift(),a=0,s=i.length;s>a;a++)for(l=yr(i[a]),f?l.triggerHandler("$destroy"):f=!f,u=0,c=(h=l.children()).length;c>u;u++)p.push(wr(h[u]));return o.apply(this,arguments)}var o=wr.fn[e];o=o.$original||o,i.$original=o,wr.fn[e]=i}function pt(e){return!Vr.test(e)}function ft(e,t){var n,r,i,o,a,s,l=t.createDocumentFragment(),u=[];if(pt(e))u.push(t.createTextNode(e));else{for(n=l.appendChild(t.createElement("div")),r=(Fr.exec(e)||["",""])[1].toLowerCase(),i=Wr[r]||Wr._default,n.innerHTML="<div>&#160;</div>"+i[1]+e.replace(Ur,"<$1></$2>")+i[2],n.removeChild(n.firstChild),o=i[0];o--;)n=n.lastChild;for(a=0,s=n.childNodes.length;s>a;++a)u.push(n.childNodes[a]);n=l.firstChild,n.textContent=""}return l.textContent="",l.innerHTML="",u}function dt(e,n){n=n||t;var r;return(r=Lr.exec(e))?[n.createElement(r[1])]:ft(e,n)}function gt(e){if(e instanceof gt)return e;if(w(e)&&(e=Tr(e)),!(this instanceof gt)){if(w(e)&&"<"!=e.charAt(0))throw Hr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new gt(e)}if(w(e)){Ct(this,dt(e));var n=yr(t.createDocumentFragment());n.append(this)}else Ct(this,e)}function mt(e){return e.cloneNode(!0)}function vt(e){yt(e);for(var t=0,n=e.childNodes||[];t<n.length;t++)vt(n[t])}function $t(e,t,n,r){if($(r))throw Hr("offargs","jqLite#off() does not support the `selector` argument");var i=wt(e,"events"),a=wt(e,"handle");a&&(v(t)?o(i,function(t,n){Rr(e,n,t),delete i[n]}):o(t.split(" "),function(t){v(n)?(Rr(e,t,i[t]),delete i[t]):N(i[t]||[],n)}))}function yt(e,t){var r=e[_r],i=Or[r];if(i){if(t)return void delete Or[r].data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),$t(e)),delete Or[r],e[_r]=n}}function wt(e,t,n){var r=e[_r],i=Or[r||-1];return $(n)?(i||(e[_r]=r=ut(),i=Or[r]={}),void(i[t]=n)):i&&i[t]}function bt(e,t,n){var r=wt(e,"data"),i=$(n),o=!i&&$(t),a=o&&!y(t);if(r||a||wt(e,"data",r={}),i)r[t]=n;else{if(!o)return r;if(a)return r&&r[t];h(r,t)}}function kt(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function xt(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",Tr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Tr(t)+" "," ")))})}function St(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=Tr(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Tr(n))}}function Ct(e,t){if(t){t=t.nodeName||!$(t.length)||A(t)?[t]:t;for(var n=0;n<t.length;n++)e.push(t[n])}}function At(e,t){return Et(e,"$"+(t||"ngController")+"Controller")}function Et(e,t,r){e=yr(e),9==e[0].nodeType&&(e=e.find("html"));for(var i=x(t)?t:[t];e.length;){for(var o=e[0],a=0,s=i.length;s>a;a++)if((r=e.data(i[a]))!==n)return r;e=yr(o.parentNode||11===o.nodeType&&o.host)}}function Pt(e){for(var t=0,n=e.childNodes;t<n.length;t++)vt(n[t]);for(;e.firstChild;)e.removeChild(e.firstChild)}function Tt(e,t){var n=zr[t.toLowerCase()];return n&&Gr[e.nodeName]&&n}function jt(e,n){var r=function(r,i){if(r.preventDefault||(r.preventDefault=function(){r.returnValue=!1}),r.stopPropagation||(r.stopPropagation=function(){r.cancelBubble=!0}),r.target||(r.target=r.srcElement||t),v(r.defaultPrevented)){var a=r.preventDefault;r.preventDefault=function(){r.defaultPrevented=!0,a.call(r)},r.defaultPrevented=!1}r.isDefaultPrevented=function(){return r.defaultPrevented||r.returnValue===!1};var s=R(n[i||r.type]||[]);o(s,function(t){t.call(e,r)}),8>=$r?(r.preventDefault=null,r.stopPropagation=null,r.isDefaultPrevented=null):(delete r.preventDefault,delete r.stopPropagation,delete r.isDefaultPrevented)};return r.elem=e,r}function Mt(e){var t,r=typeof e;return"object"==r&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():t===n&&(t=e.$$hashKey=u()):t=e,r+":"+t}function Ot(e){o(e,this.put,this)}function _t(e){var t,n,r,i;return"function"==typeof e?(t=e.$inject)||(t=[],e.length&&(n=e.toString().replace(Kr,""),r=n.match(Jr),o(r[1].split(Qr),function(e){e.replace(Yr,function(e,n,r){t.push(r)})})),e.$inject=t):x(e)?(i=e.length-1,rt(e[i],"fn"),t=e.slice(0,i)):rt(e,"fn",!0),t}function Nt(e){function t(e){return function(t,n){return y(t)?void o(t,l(e)):e(t,n)}}function n(e,t){if(it(e,"service"),(S(t)||x(t))&&(t=b.instantiate(t)),!t.$get)throw Xr("pget","Provider '{0}' must define $get factory method.",e);return $[e+f]=t}function r(e,t){return n(e,{$get:t})}function i(e,t){return r(e,["$injector",function(e){return e.instantiate(t)}])}function a(e,t){return r(e,m(t))}function s(e,t){it(e,"constant"),$[e]=t,k[e]=t}function u(e,t){var n=b.get(e+f),r=n.$get;n.$get=function(){var e=C.invoke(r,n);return C.invoke(t,null,{$delegate:e})}}function c(e){var t,n,r,i,a=[];return o(e,function(e){if(!v.get(e)){v.put(e,!0);try{if(w(e))for(t=br(e),a=a.concat(c(t.requires)).concat(t._runBlocks),n=t._invokeQueue,r=0,i=n.length;i>r;r++){var o=n[r],s=b.get(o[0]);s[o[1]].apply(s,o[2])}else S(e)?a.push(b.invoke(e)):x(e)?a.push(b.invoke(e)):rt(e,"module")}catch(l){throw x(e)&&(e=e[e.length-1]),l.message&&l.stack&&-1==l.stack.indexOf(l.message)&&(l=l.message+"\n"+l.stack),Xr("modulerr","Failed to instantiate module {0} due to:\n{1}",e,l.stack||l.message||l)}}}),a}function h(e,t){function n(n){if(e.hasOwnProperty(n)){if(e[n]===p)throw Xr("cdep","Circular dependency found: {0}",g.join(" <- "));return e[n]}try{return g.unshift(n),e[n]=p,e[n]=t(n)}catch(r){throw e[n]===p&&delete e[n],r}finally{g.shift()}}function r(e,t,r){var i,o,a,s=[],l=_t(e);for(o=0,i=l.length;i>o;o++){if(a=l[o],"string"!=typeof a)throw Xr("itkn","Incorrect injection token! Expected service name as string, got {0}",a);s.push(r&&r.hasOwnProperty(a)?r[a]:n(a))}return e.$inject||(e=e[i]),e.apply(t,s)}function i(e,t){var n,i,o=function(){};return o.prototype=(x(e)?e[e.length-1]:e).prototype,n=new o,i=r(e,n,t),y(i)||S(i)?i:n}return{invoke:r,instantiate:i,get:n,annotate:_t,has:function(t){return $.hasOwnProperty(t+f)||e.hasOwnProperty(t)}}}var p={},f="Provider",g=[],v=new Ot,$={$provide:{provider:t(n),factory:t(r),service:t(i),value:t(a),constant:t(s),decorator:u}},b=$.$injector=h($,function(){throw Xr("unpr","Unknown provider: {0}",g.join(" <- "))}),k={},C=k.$injector=h(k,function(e){var t=b.get(e+f);return C.invoke(t.$get,t)});return o(c(e),function(e){C.invoke(e||d)}),C}function Dt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return o(e,function(e){t||"a"!==fr(e.nodeName)||(t=e)}),t}function a(){var e,r=n.hash();r?(e=s.getElementById(r))?e.scrollIntoView():(e=i(s.getElementsByName(r)))?e.scrollIntoView():"top"===r&&t.scrollTo(0,0):t.scrollTo(0,0)}var s=t.document;return e&&r.$watch(function(){return n.hash()},function(){r.$evalAsync(a)}),a}]}function Rt(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function qt(e,t,r,i){function a(e){try{e.apply(null,L(arguments,1))}finally{if($--,0===$)for(;y.length;)try{y.pop()()}catch(t){r.error(t)}}}function s(e,t){!function n(){o(k,function(e){e()}),b=t(n,e)}()}function l(){C=null,x!=u.url()&&(x=u.url(),o(A,function(e){e(u.url())}))}var u=this,c=t[0],h=e.location,p=e.history,f=e.setTimeout,g=e.clearTimeout,m={};u.isMock=!1;var $=0,y=[];u.$$completeOutstandingRequest=a,u.$$incOutstandingRequestCount=function(){$++},u.notifyWhenNoOutstandingRequests=function(e){o(k,function(e){e()}),0===$?e():y.push(e)};var b,k=[];u.addPollFn=function(e){return v(b)&&s(100,f),k.push(e),e};var x=h.href,S=t.find("base"),C=null;u.url=function(t,n){if(h!==e.location&&(h=e.location),p!==e.history&&(p=e.history),t){if(x==t)return;return x=t,i.history?n?p.replaceState(null,"",t):(p.pushState(null,"",t),S.attr("href",S.attr("href"))):(C=t,n?h.replace(t):h.href=t),u}return C||h.href.replace(/%27/g,"'")};var A=[],E=!1;u.onUrlChange=function(t){return E||(i.history&&yr(e).on("popstate",l),i.hashchange?yr(e).on("hashchange",l):u.addPollFn(l),E=!0),A.push(t),t},u.baseHref=function(){var e=S.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var P={},T="",j=u.baseHref();u.cookies=function(e,t){var i,o,a,s,l;if(!e){if(c.cookie!==T)for(T=c.cookie,o=T.split("; "),P={},s=0;s<o.length;s++)a=o[s],l=a.indexOf("="),l>0&&(e=unescape(a.substring(0,l)),P[e]===n&&(P[e]=unescape(a.substring(l+1))));return P}t===n?c.cookie=escape(e)+"=;path="+j+";expires=Thu, 01 Jan 1970 00:00:00 GMT":w(t)&&(i=(c.cookie=escape(e)+"="+escape(t)+";path="+j).length+1,i>4096&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},u.defer=function(e,t){var n;return $++,n=f(function(){delete m[n],a(e)},t||0),m[n]=!0,n},u.defer.cancel=function(e){return m[e]?(delete m[e],g(e),a(d),!0):!1}}function It(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new qt(e,r,t,n)}]}function Ht(){this.$get=function(){function e(e,n){function i(e){e!=p&&(f?f==e&&(f=e.n):f=e,o(e.n,e.p),o(e,p),p=e,p.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=h({},n,{id:e}),l={},u=n&&n.capacity||Number.MAX_VALUE,c={},p=null,f=null;return t[e]={put:function(e,t){if(u<Number.MAX_VALUE){var n=c[e]||(c[e]={key:e});i(n)}if(!v(t))return e in l||a++,l[e]=t,a>u&&this.remove(f.key),t},get:function(e){if(u<Number.MAX_VALUE){var t=c[e];if(!t)return;i(t)}return l[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=c[e];if(!t)return;t==p&&(p=t.p),t==f&&(f=t.n),o(t.n,t.p),delete c[e]}delete l[e],a--},removeAll:function(){l={},a=0,c={},p=f=null},destroy:function(){l=null,s=null,c=null,delete t[e]},info:function(){return h({},s,{size:a})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Lt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Vt(e,r){var i={},a="Directive",s=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,u=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,c=/^(on[a-z]+|formaction)$/;this.directive=function p(t,n){return it(t,"directive"),w(t)?(nt(n,"directiveFactory"),i.hasOwnProperty(t)||(i[t]=[],e.factory(t+a,["$injector","$exceptionHandler",function(e,n){var r=[];return o(i[t],function(i,o){try{var a=e.invoke(i);S(a)?a={compile:m(a)}:!a.compile&&a.link&&(a.compile=m(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||t,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"A",r.push(a)}catch(s){n(s)}}),r}])),i[t].push(n)):o(t,l(p)),this},this.aHrefSanitizationWhitelist=function(e){return $(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return $(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,l,p,d,v,$,b,k,C,A,E){function P(e,t,n,r,i){e instanceof yr||(e=yr(e)),o(e,function(t,n){3==t.nodeType&&t.nodeValue.match(/\S+/)&&(e[n]=t=yr(t).wrap("<span></span>").parent()[0])});var a=j(e,t,e,n,r,i);return T(e,"ng-scope"),function(t,n,r){nt(t,"scope");var i=n?Br.clone.call(e):e;o(r,function(e,t){i.data("$"+t+"Controller",e)});for(var s=0,l=i.length;l>s;s++){var u=i[s],c=u.nodeType;(1===c||9===c)&&i.eq(s).data("$scope",t)}return n&&n(i,t),a&&a(t,i,i),i}}function T(e,t){try{e.addClass(t)}catch(n){}}function j(e,t,r,i,o,a){function s(e,r,i,o){var a,s,l,u,c,h,p,f,g,m=r.length,v=new Array(m);for(p=0;m>p;p++)v[p]=r[p];for(p=0,g=0,f=d.length;f>p;g++)l=v[g],a=d[p++],s=d[p++],u=yr(l),a?(a.scope?(c=e.$new(),u.data("$scope",c)):c=e,h=a.transclude,h||!o&&t?a(s,c,l,i,M(e,h||t)):a(s,c,l,i,o)):s&&s(e,l.childNodes,n,o)}for(var l,u,c,h,p,f,d=[],g=0;g<e.length;g++)l=new X,u=O(e[g],[],l,0===g?i:n,o),c=u.length?D(u,e[g],l,t,r,null,[],[],a):null,c&&c.scope&&T(yr(e[g]),"ng-scope"),p=c&&c.terminal||!(h=e[g].childNodes)||!h.length?null:j(h,c?c.transclude:t),d.push(c,p),f=f||c||p,a=null;return f?s:null}function M(e,t){return function(n,r,i){var o=!1;n||(n=e.$new(),n.$$transcluded=!0,o=!0);var a=t(n,r,i);return o&&a.on("$destroy",V(n,n.$destroy)),a}}function O(e,t,n,r,i){var o,a,l=e.nodeType,c=n.$attr;switch(l){case 1:H(t,Ft(kr(e).toLowerCase()),"E",r,i);for(var h,p,f,d,g,m=e.attributes,v=0,$=m&&m.length;$>v;v++){var y=!1,b=!1;if(h=m[v],!$r||$r>=8||h.specified){p=h.name,d=Ft(p),it.test(d)&&(p=et(d.substr(6),"-"));var k=d.replace(/(Start|End)$/,"");d===k+"Start"&&(y=p,b=p.substr(0,p.length-5)+"end",p=p.substr(0,p.length-6)),f=Ft(p.toLowerCase()),c[f]=p,n[f]=g=Tr(h.value),Tt(e,f)&&(n[f]=!0),Q(e,t,g,f),H(t,f,"A",r,i,y,b)}}if(a=e.className,w(a)&&""!==a)for(;o=u.exec(a);)f=Ft(o[2]),H(t,f,"C",r,i)&&(n[f]=Tr(o[3])),a=a.substr(o.index+o[0].length);break;case 3:G(t,e.nodeValue);break;case 8:try{o=s.exec(e.nodeValue),o&&(f=Ft(o[1]),H(t,f,"M",r,i)&&(n[f]=Tr(o[2])))}catch(x){}}return t.sort(W),t}function _(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw ti("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);1==e.nodeType&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return yr(r)}function N(e,t,n){return function(r,i,o,a,s){return i=_(i[0],t,n),e(r,i,o,a,s)}}function D(e,i,a,s,u,c,h,p,f){function d(e,t,n,r){e&&(n&&(e=N(e,n,r)),e.require=k.require,(H===k||k.$$isolateScope)&&(e=K(e,{isolateScope:!0})),h.push(e)),t&&(n&&(t=N(t,n,r)),t.require=k.require,(H===k||k.$$isolateScope)&&(t=K(t,{isolateScope:!0})),p.push(t))}function g(e,t,n){var r,i="data",a=!1;if(w(e)){for(;"^"==(r=e.charAt(0))||"?"==r;)e=e.substr(1),"^"==r&&(i="inheritedData"),a=a||"?"==r;if(r=null,n&&"data"===i&&(r=n[e]),r=r||t[i]("$"+e+"Controller"),!r&&!a)throw ti("ctreq","Controller '{0}', required by directive '{1}', can't be found!",e,C);return r}return x(e)&&(r=[],o(e,function(e){r.push(g(e,t,n))})),r}function m(e,t,s,u,c){function f(e,t){var r;return arguments.length<2&&(t=e,e=n),J&&(r=C),c(e,t,r)}var d,m,y,w,b,k,x,S,C={};if(d=i===s?a:R(a,new X(yr(s),a.$attr)),m=d.$$element,H){var A=/^\s*([@=&])(\??)\s*(\w*)\s*$/,E=yr(s);x=t.$new(!0),V&&V===H.$$originalDirective?E.data("$isolateScope",x):E.data("$isolateScopeNoTemplate",x),T(E,"ng-isolate-scope"),o(H.scope,function(e,n){var i,o,a,s,l=e.match(A)||[],u=l[3]||n,c="?"==l[2],h=l[1];switch(x.$$isolateBindings[n]=h+u,h){case"@":d.$observe(u,function(e){x[n]=e}),d.$$observers[u].$$scope=t,d[u]&&(x[n]=r(d[u])(t));break;case"=":if(c&&!d[u])return;o=v(d[u]),s=o.literal?q:function(e,t){return e===t},a=o.assign||function(){throw i=x[n]=o(t),ti("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",d[u],H.name)},i=x[n]=o(t),x.$watch(function(){var e=o(t);return s(e,x[n])||(s(e,i)?a(t,e=x[n]):x[n]=e),i=e},null,o.literal);break;case"&":o=v(d[u]),x[n]=function(e){return o(t,e)};break;default:throw ti("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",H.name,n,e)}})}for(S=c&&f,D&&o(D,function(e){var n,r={$scope:e===H||e.$$isolateScope?x:t,$element:m,$attrs:d,$transclude:S};k=e.controller,"@"==k&&(k=d[e.name]),n=$(k,r),C[e.name]=n,J||m.data("$"+e.name+"Controller",n),e.controllerAs&&(r.$scope[e.controllerAs]=n)}),y=0,w=h.length;w>y;y++)try{b=h[y],b(b.isolateScope?x:t,m,d,b.require&&g(b.require,m,C),S)}catch(P){l(P,z(m))}var j=t;for(H&&(H.template||null===H.templateUrl)&&(j=x),e&&e(j,s.childNodes,n,c),y=p.length-1;y>=0;y--)try{b=p[y],b(b.isolateScope?x:t,m,d,b.require&&g(b.require,m,C),S)}catch(P){l(P,z(m))}}f=f||{};for(var b,k,C,A,E,j,M=-Number.MAX_VALUE,D=f.controllerDirectives,H=f.newIsolateScopeDirective,V=f.templateDirective,W=f.nonTlbTranscludeDirective,G=!1,J=f.hasElementTranscludeDirective,Q=a.$$element=yr(i),Z=c,et=s,tt=0,nt=e.length;nt>tt;tt++){k=e[tt];var it=k.$$start,ot=k.$$end;if(it&&(Q=_(i,it,ot)),A=n,M>k.priority)break;if((j=k.scope)&&(b=b||k,k.templateUrl||(B("new/isolated scope",H,k,Q),y(j)&&(H=k))),C=k.name,!k.templateUrl&&k.controller&&(j=k.controller,D=D||{},B("'"+C+"' controller",D[C],k,Q),D[C]=k),(j=k.transclude)&&(G=!0,k.$$tlb||(B("transclusion",W,k,Q),W=k),"element"==j?(J=!0,M=k.priority,A=_(i,it,ot),Q=a.$$element=yr(t.createComment(" "+C+": "+a[C]+" ")),i=Q[0],Y(u,yr(L(A)),i),et=P(A,s,M,Z&&Z.name,{nonTlbTranscludeDirective:W})):(A=yr(mt(i)).contents(),Q.empty(),et=P(A,s))),k.template)if(B("template",V,k,Q),V=k,j=S(k.template)?k.template(Q,a):k.template,j=rt(j),k.replace){if(Z=k,A=pt(j)?[]:yr(j),i=A[0],1!=A.length||1!==i.nodeType)throw ti("tplrt","Template for directive '{0}' must have exactly one root element. {1}",C,"");Y(u,Q,i);var at={$attr:{}},st=O(i,[],at),lt=e.splice(tt+1,e.length-(tt+1));H&&I(st),e=e.concat(st).concat(lt),F(a,at),nt=e.length}else Q.html(j);if(k.templateUrl)B("template",V,k,Q),V=k,k.replace&&(Z=k),m=U(e.splice(tt,e.length-tt),Q,a,u,et,h,p,{controllerDirectives:D,newIsolateScopeDirective:H,templateDirective:V,nonTlbTranscludeDirective:W}),nt=e.length;else if(k.compile)try{E=k.compile(Q,a,et),S(E)?d(null,E,it,ot):E&&d(E.pre,E.post,it,ot)}catch(ut){l(ut,z(Q))}k.terminal&&(m.terminal=!0,M=Math.max(M,k.priority))}return m.scope=b&&b.scope===!0,m.transclude=G&&et,f.hasElementTranscludeDirective=J,m}function I(e){for(var t=0,n=e.length;n>t;t++)e[t]=f(e[t],{$$isolateScope:!0})}function H(t,r,o,s,u,c,h){if(r===u)return null;var p=null;if(i.hasOwnProperty(r))for(var d,g=e.get(r+a),m=0,v=g.length;v>m;m++)try{d=g[m],(s===n||s>d.priority)&&-1!=d.restrict.indexOf(o)&&(c&&(d=f(d,{$$start:c,$$end:h})),t.push(d),p=d)}catch($){l($)}return p}function F(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;o(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),o(t,function(t,o){"class"==o?(T(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==o?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,r[o]=n[o])})}function U(e,t,n,r,i,a,s,l){var u,c,f=[],g=t[0],m=e.shift(),v=h({},m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),$=S(m.templateUrl)?m.templateUrl(t,n):m.templateUrl;return t.empty(),p.get(C.getTrustedResourceUrl($),{cache:d}).success(function(h){var p,d,w,b;if(h=rt(h),m.replace){if(w=pt(h)?[]:yr(h),p=w[0],1!=w.length||1!==p.nodeType)throw ti("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,$);d={$attr:{}},Y(r,t,p);var k=O(p,[],d);y(m.scope)&&I(k),e=k.concat(e),F(n,d)}else p=g,t.html(h);for(e.unshift(v),u=D(e,p,n,i,t,m,a,s,l),o(r,function(e,n){e==p&&(r[n]=t[0])}),c=j(t[0].childNodes,i);f.length;){var x=f.shift(),S=f.shift(),C=f.shift(),A=f.shift(),E=t[0];if(S!==g){var P=S.className;l.hasElementTranscludeDirective&&m.replace||(E=mt(p)),Y(C,yr(S),E),T(yr(E),P)}b=u.transclude?M(x,u.transclude):A,u(c,x,E,r,b)}f=null}).error(function(e,t,n,r){throw ti("tpload","Failed to load template: {0}",r.url)}),function(e,t,n,r,i){f?(f.push(t),f.push(n),f.push(r),f.push(i)):u(c,t,n,r,i)}}function W(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function B(e,t,n,r){if(t)throw ti("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,n.name,e,z(r))}function G(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:m(function(e,t){var r=t.parent(),i=r.data("$binding")||[];i.push(n),T(r.data("$binding",i),"ng-binding"),e.$watch(n,function(e){t[0].nodeValue=e})})})}function J(e,t){if("srcdoc"==t)return C.HTML;var n=kr(e);return"xlinkHref"==t||"FORM"==n&&"action"==t||"IMG"!=n&&("src"==t||"ngSrc"==t)?C.RESOURCE_URL:void 0}function Q(e,t,n,i){var o=r(n,!0);if(o){if("multiple"===i&&"SELECT"===kr(e))throw ti("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",z(e));t.push({priority:100,compile:function(){return{pre:function(t,n,a){var s=a.$$observers||(a.$$observers={});if(c.test(i))throw ti("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");o=r(a[i],!0,J(e,i)),o&&(a[i]=o(t),(s[i]||(s[i]=[])).$$inter=!0,(a.$$observers&&a.$$observers[i].$$scope||t).$watch(o,function(e,t){"class"===i&&e!=t?a.$updateClass(e,t):a.$set(i,e)}))}}}})}}function Y(e,n,r){var i,o,a=n[0],s=n.length,l=a.parentNode;if(e)for(i=0,o=e.length;o>i;i++)if(e[i]==a){e[i++]=r;for(var u=i,c=u+s-1,h=e.length;h>u;u++,c++)h>c?e[u]=e[c]:delete e[u];e.length-=s-1;break}l&&l.replaceChild(r,a);var p=t.createDocumentFragment();p.appendChild(a),r[yr.expando]=a[yr.expando];for(var f=1,d=n.length;d>f;f++){var g=n[f];yr(g).remove(),p.appendChild(g),delete n[f]}n[0]=r,n.length=1}function K(e,t){return h(function(){return e.apply(null,arguments)},e,t)}var X=function(e,t){this.$$element=e,this.$attr=t||{}};X.prototype={$normalize:Ft,$addClass:function(e){e&&e.length>0&&A.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&A.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Ut(e,t),r=Ut(t,e);0===n.length?A.removeClass(this.$$element,r):0===r.length?A.addClass(this.$$element,n):A.setClass(this.$$element,n,r)},$set:function(e,t,r,i){var a,s=Tt(this.$$element[0],e);s&&(this.$$element.prop(e,t),i=s),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e],i||(this.$attr[e]=i=et(e,"-"))),a=kr(this.$$element),("A"===a&&"href"===e||"IMG"===a&&"src"===e)&&(this[e]=t=E(t,"src"===e)),r!==!1&&(null===t||t===n?this.$$element.removeAttr(i):this.$$element.attr(i,t));
var u=this.$$observers;u&&o(u[e],function(e){try{e(t)}catch(n){l(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers={}),i=r[e]||(r[e]=[]);return i.push(t),b.$evalAsync(function(){i.$$inter||t(n[e])}),t}};var Z=r.startSymbol(),tt=r.endSymbol(),rt="{{"==Z||"}}"==tt?g:function(e){return e.replace(/\{\{/g,Z).replace(/}}/g,tt)},it=/^ngAttr[A-Z]/;return P}]}function Ft(e){return ct(e.replace(ni,""))}function Ut(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue e;n+=(n.length>0?" ":"")+a}return n}function Wt(){var e={},t=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){it(t,"controller"),y(t)?h(e,t):e[t]=n},this.$get=["$injector","$window",function(n,i){return function(o,a){var s,l,u,c;if(w(o)&&(l=o.match(t),u=l[1],c=l[3],o=e.hasOwnProperty(u)?e[u]:ot(a.$scope,u,!0)||ot(i,u,!0),rt(o,u,!0)),s=n.instantiate(o,a),c){if(!a||"object"!=typeof a.$scope)throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",u||o.name,c);a.$scope[c]=s}return s}}]}function Bt(){this.$get=["$window",function(e){return yr(e.document)}]}function zt(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function Gt(e){var t,n,r,i={};return e?(o(e.split("\n"),function(e){r=e.indexOf(":"),t=fr(Tr(e.substr(0,r))),n=Tr(e.substr(r+1)),t&&(i[t]?i[t]+=", "+n:i[t]=n)}),i):i}function Jt(e){var t=y(e)?e:n;return function(n){return t||(t=Gt(e)),n?t[fr(n)]||null:t}}function Qt(e,t,n){return S(n)?n(e,t):(o(n,function(n){e=n(e,t)}),e)}function Yt(e){return e>=200&&300>e}function Kt(){var e=/^\s*(\[|\{[^\{])/,t=/[\}\]]\s*$/,r=/^\)\]\}',?\n/,i={"Content-Type":"application/json;charset=utf-8"},a=this.defaults={transformResponse:[function(n){return w(n)&&(n=n.replace(r,""),e.test(n)&&t.test(n)&&(n=W(n))),n}],transformRequest:[function(e){return!y(e)||P(e)||T(e)?e:U(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:D(i),put:D(i),patch:D(i)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},l=this.interceptors=[],u=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(e,t,r,i,c,p){function f(e){function r(e){var t=h({},e,{data:Qt(e.data,e.headers,s.transformResponse)});return Yt(e.status)?t:c.reject(t)}function i(e){function t(e){var t;o(e,function(n,r){S(n)&&(t=n(),null!=t?e[r]=t:delete e[r])})}var n,r,i,s=a.headers,l=h({},e.headers);s=h({},s.common,s[fr(e.method)]),t(s),t(l);e:for(n in s){r=fr(n);for(i in l)if(fr(i)===r)continue e;l[n]=s[n]}return l}var s={method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse},l=i(e);h(s,e),s.headers=l,s.method=gr(s.method);var u=Ln(s.url)?t.cookies()[s.xsrfCookieName||a.xsrfCookieName]:n;u&&(l[s.xsrfHeaderName||a.xsrfHeaderName]=u);var p=function(e){l=e.headers;var t=Qt(e.data,Jt(l),e.transformRequest);return v(e.data)&&o(l,function(e,t){"content-type"===fr(t)&&delete l[t]}),v(e.withCredentials)&&!v(a.withCredentials)&&(e.withCredentials=a.withCredentials),m(e,t,l).then(r,r)},f=[p,n],d=c.when(s);for(o(C,function(e){(e.request||e.requestError)&&f.unshift(e.request,e.requestError),(e.response||e.responseError)&&f.push(e.response,e.responseError)});f.length;){var g=f.shift(),$=f.shift();d=d.then(g,$)}return d.success=function(e){return d.then(function(t){e(t.data,t.status,t.headers,s)}),d},d.error=function(e){return d.then(null,function(t){e(t.data,t.status,t.headers,s)}),d},d}function d(){o(arguments,function(e){f[e]=function(t,n){return f(h(n||{},{method:e,url:t}))}})}function g(){o(arguments,function(e){f[e]=function(t,n,r){return f(h(r||{},{method:e,url:t,data:n}))}})}function m(t,n,r){function o(e,t,n,r){u&&(Yt(e)?u.put(g,[e,t,Gt(n),r]):u.remove(g)),s(t,e,n,r),i.$$phase||i.$apply()}function s(e,n,r,i){n=Math.max(n,0),(Yt(n)?p.resolve:p.reject)({data:e,status:n,headers:Jt(r),config:t,statusText:i})}function l(){var e=_(f.pendingRequests,t);-1!==e&&f.pendingRequests.splice(e,1)}var u,h,p=c.defer(),d=p.promise,g=b(t.url,t.params);if(f.pendingRequests.push(t),d.then(l,l),(t.cache||a.cache)&&t.cache!==!1&&"GET"==t.method&&(u=y(t.cache)?t.cache:y(a.cache)?a.cache:k),u)if(h=u.get(g),$(h)){if(h.then)return h.then(l,l),h;x(h)?s(h[1],h[0],D(h[2]),h[3]):s(h,200,{},"OK")}else u.put(g,d);return v(h)&&e(t.method,g,n,o,r,t.timeout,t.withCredentials,t.responseType),d}function b(e,t){if(!t)return e;var n=[];return s(t,function(e,t){null===e||v(e)||(x(e)||(e=[e]),o(e,function(e){y(e)&&(e=U(e)),n.push(K(t)+"="+K(e))}))}),n.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+n.join("&")),e}var k=r("$http"),C=[];return o(l,function(e){C.unshift(w(e)?p.get(e):p.invoke(e))}),o(u,function(e,t){var n=w(e)?p.get(e):p.invoke(e);C.splice(t,0,{response:function(e){return n(c.when(e))},responseError:function(e){return n(c.reject(e))}})}),f.pendingRequests=[],d("get","delete","head","jsonp"),g("post","put"),f.defaults=a,f}]}function Xt(t){if(8>=$r&&(!t.match(/^(get|post|head|put|delete|options)$/i)||!e.XMLHttpRequest))return new e.ActiveXObject("Microsoft.XMLHTTP");if(e.XMLHttpRequest)return new e.XMLHttpRequest;throw r("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")}function Zt(){this.$get=["$browser","$window","$document",function(e,t,n){return en(e,Xt,e.defer,t.angular.callbacks,n[0])}]}function en(e,t,n,r,i){function a(e,t){var n=i.createElement("script"),r=function(){n.onreadystatechange=n.onload=n.onerror=null,i.body.removeChild(n),t&&t()};return n.type="text/javascript",n.src=e,$r&&8>=$r?n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&r()}:n.onload=n.onerror=function(){r()},i.body.appendChild(n),r}var s=-1;return function(i,l,u,c,h,p,f,g){function m(){y=s,b&&b(),k&&k.abort()}function v(t,r,i,o,a){S&&n.cancel(S),b=k=null,0===r&&(r=i?200:"file"==Hn(l).protocol?404:0),r=1223===r?204:r,a=a||"",t(r,i,o,a),e.$$completeOutstandingRequest(d)}var y;if(e.$$incOutstandingRequestCount(),l=l||e.url(),"jsonp"==fr(i)){var w="_"+(r.counter++).toString(36);r[w]=function(e){r[w].data=e};var b=a(l.replace("JSON_CALLBACK","angular.callbacks."+w),function(){r[w].data?v(c,200,r[w].data):v(c,y||-2),r[w]=Er.noop})}else{var k=t(i);if(k.open(i,l,!0),o(h,function(e,t){$(e)&&k.setRequestHeader(t,e)}),k.onreadystatechange=function(){if(k&&4==k.readyState){var e=null,t=null;y!==s&&(e=k.getAllResponseHeaders(),t="response"in k?k.response:k.responseText),v(c,y||k.status,t,e,k.statusText||"")}},f&&(k.withCredentials=!0),g)try{k.responseType=g}catch(x){if("json"!==g)throw x}k.send(u||null)}if(p>0)var S=n(m,p);else p&&p.then&&p.then(m)}}function tn(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(o,l,u){for(var c,h,p,f,d=0,g=[],m=o.length,$=!1,y=[];m>d;)-1!=(c=o.indexOf(e,d))&&-1!=(h=o.indexOf(t,c+a))?(d!=c&&g.push(o.substring(d,c)),g.push(p=n(f=o.substring(c+a,h))),p.exp=f,d=h+s,$=!0):(d!=m&&g.push(o.substring(d)),d=m);if((m=g.length)||(g.push(""),m=1),u&&g.length>1)throw ri("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",o);return!l||$?(y.length=m,p=function(e){try{for(var t,n=0,a=m;a>n;n++)"function"==typeof(t=g[n])&&(t=t(e),t=u?i.getTrusted(u,t):i.valueOf(t),null===t||v(t)?t="":"string"!=typeof t&&(t=U(t))),y[n]=t;return y.join("")}catch(s){var l=ri("interr","Can't interpolate: {0}\n{1}",o,s.toString());r(l)}},p.exp=o,p.parts=g,p):void 0}var a=e.length,s=t.length;return o.startSymbol=function(){return e},o.endSymbol=function(){return t},o}]}function nn(){this.$get=["$rootScope","$window","$q",function(e,t,n){function r(r,o,a,s){var l=t.setInterval,u=t.clearInterval,c=n.defer(),h=c.promise,p=0,f=$(s)&&!s;return a=$(a)?a:0,h.then(null,null,r),h.$$intervalId=l(function(){c.notify(p++),a>0&&p>=a&&(c.resolve(p),u(h.$$intervalId),delete i[h.$$intervalId]),f||e.$apply()},o),i[h.$$intervalId]=c,h}var i={};return r.cancel=function(e){return e&&e.$$intervalId in i?(i[e.$$intervalId].reject("canceled"),clearInterval(e.$$intervalId),delete i[e.$$intervalId],!0):!1},r}]}function rn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}function on(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=Y(t[n]);return t.join("/")}function an(e,t,n){var r=Hn(e,n);t.$$protocol=r.protocol,t.$$host=r.hostname,t.$$port=p(r.port)||oi[r.protocol]||null}function sn(e,t,n){var r="/"!==e.charAt(0);r&&(e="/"+e);var i=Hn(e,n);t.$$path=decodeURIComponent(r&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=J(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function ln(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function un(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function cn(e){return e.substr(0,un(e).lastIndexOf("/")+1)}function hn(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function pn(e,t){this.$$html5=!0,t=t||"";var r=cn(e);an(e,this,e),this.$$parse=function(t){var n=ln(r,t);if(!w(n))throw ai("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,r);sn(n,this,e),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=Q(this.$$search),t=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=on(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+this.$$url.substr(1)},this.$$rewrite=function(i){var o,a;return(o=ln(e,i))!==n?(a=o,(o=ln(t,o))!==n?r+(ln("/",o)||o):e+a):(o=ln(r,i))!==n?r+o:r==i+"/"?r:void 0}}function fn(e,t){var n=cn(e);an(e,this,e),this.$$parse=function(r){function i(e,t,n){var r,i=/^\/?.*?:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var o=ln(e,r)||ln(n,r),a="#"==o.charAt(0)?ln(t,o):this.$$html5?o:"";if(!w(a))throw ai("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',r,t);sn(a,this,e),this.$$path=i(this.$$path,a,e),this.$$compose()},this.$$compose=function(){var n=Q(this.$$search),r=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=on(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$rewrite=function(t){return un(e)==un(t)?t:void 0}}function dn(e,t){this.$$html5=!0,fn.apply(this,arguments);var n=cn(e);this.$$rewrite=function(r){var i;return e==un(r)?r:(i=ln(n,r))?e+t+i:n===r+"/"?n:void 0}}function gn(e){return function(){return this[e]}}function mn(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function vn(){var t="",n=!1;this.hashPrefix=function(e){return $(e)?(t=e,this):t},this.html5Mode=function(e){return $(e)?(n=e,this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(r,i,o,a){function s(e){r.$broadcast("$locationChangeSuccess",l.absUrl(),e)}var l,u,c,h=i.baseHref(),p=i.url();n?(c=hn(p)+(h||"/"),u=o.history?pn:dn):(c=un(p),u=fn),l=new u(c,"#"+t),l.$$parse(l.$$rewrite(p)),a.on("click",function(t){if(!t.ctrlKey&&!t.metaKey&&2!=t.which){for(var n=yr(t.target);"a"!==fr(n[0].nodeName);)if(n[0]===a[0]||!(n=n.parent())[0])return;var o=n.prop("href");y(o)&&"[object SVGAnimatedString]"===o.toString()&&(o=Hn(o.animVal).href);var s=l.$$rewrite(o);o&&!n.attr("target")&&s&&!t.isDefaultPrevented()&&(t.preventDefault(),s!=i.url()&&(l.$$parse(s),r.$apply(),e.angular["ff-684208-preventDefault"]=!0))}}),l.absUrl()!=p&&i.url(l.absUrl(),!0),i.onUrlChange(function(e){l.absUrl()!=e&&(r.$evalAsync(function(){var t=l.absUrl();l.$$parse(e),r.$broadcast("$locationChangeStart",e,t).defaultPrevented?(l.$$parse(t),i.url(t)):s(t)}),r.$$phase||r.$digest())});var f=0;return r.$watch(function(){var e=i.url(),t=l.$$replace;return f&&e==l.absUrl()||(f++,r.$evalAsync(function(){r.$broadcast("$locationChangeStart",l.absUrl(),e).defaultPrevented?l.$$parse(e):(i.url(l.absUrl(),t),s(e))})),l.$$replace=!1,f}),l}]}function $n(){var e=!0,t=this;this.debugEnabled=function(t){return $(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||d,a=!1;try{a=!!i.apply}catch(s){}return a?function(){var e=[];return o(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function yn(e,t){if("constructor"===e)throw li("isecfld",'Referencing "constructor" field in Angular expressions is disallowed! Expression: {0}',t);return e}function wn(e,t){if(e){if(e.constructor===e)throw li("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.document&&e.location&&e.alert&&e.setInterval)throw li("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw li("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t)}return e}function bn(e,t,r,i,o){o=o||{};for(var a,s=t.split("."),l=0;s.length>1;l++){a=yn(s.shift(),i);var u=e[a];u||(u={},e[a]=u),e=u,e.then&&o.unwrapPromises&&(si(i),"$$v"in e||!function(e){e.then(function(t){e.$$v=t})}(e),e.$$v===n&&(e.$$v={}),e=e.$$v)}return a=yn(s.shift(),i),e[a]=r,r}function kn(e,t,r,i,o,a,s){return yn(e,a),yn(t,a),yn(r,a),yn(i,a),yn(o,a),s.unwrapPromises?function(s,l){var u,c=l&&l.hasOwnProperty(e)?l:s;return null==c?c:(c=c[e],c&&c.then&&(si(a),"$$v"in c||(u=c,u.$$v=n,u.then(function(e){u.$$v=e})),c=c.$$v),t?null==c?n:(c=c[t],c&&c.then&&(si(a),"$$v"in c||(u=c,u.$$v=n,u.then(function(e){u.$$v=e})),c=c.$$v),r?null==c?n:(c=c[r],c&&c.then&&(si(a),"$$v"in c||(u=c,u.$$v=n,u.then(function(e){u.$$v=e})),c=c.$$v),i?null==c?n:(c=c[i],c&&c.then&&(si(a),"$$v"in c||(u=c,u.$$v=n,u.then(function(e){u.$$v=e})),c=c.$$v),o?null==c?n:(c=c[o],c&&c.then&&(si(a),"$$v"in c||(u=c,u.$$v=n,u.then(function(e){u.$$v=e})),c=c.$$v),c):c):c):c):c)}:function(a,s){var l=s&&s.hasOwnProperty(e)?s:a;return null==l?l:(l=l[e],t?null==l?n:(l=l[t],r?null==l?n:(l=l[r],i?null==l?n:(l=l[i],o?null==l?n:l=l[o]:l):l):l):l)}}function xn(e,t){return yn(e,t),function(t,r){return null==t?n:(r&&r.hasOwnProperty(e)?r:t)[e]}}function Sn(e,t,r){return yn(e,r),yn(t,r),function(r,i){return null==r?n:(r=(i&&i.hasOwnProperty(e)?i:r)[e],null==r?n:r[t])}}function Cn(e,t,r){if(di.hasOwnProperty(e))return di[e];var i,a=e.split("."),s=a.length;if(t.unwrapPromises||1!==s)if(t.unwrapPromises||2!==s)if(t.csp)i=6>s?kn(a[0],a[1],a[2],a[3],a[4],r,t):function(e,i){var o,l=0;do o=kn(a[l++],a[l++],a[l++],a[l++],a[l++],r,t)(e,i),i=n,e=o;while(s>l);return o};else{var l="var p;\n";o(a,function(e,n){yn(e,r),l+="if(s == null) return undefined;\ns="+(n?"s":'((k&&k.hasOwnProperty("'+e+'"))?k:s)')+'["'+e+'"];\n'+(t.unwrapPromises?'if (s && s.then) {\n pw("'+r.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")}),l+="return s;";var u=new Function("s","k","pw",l);u.toString=m(l),i=t.unwrapPromises?function(e,t){return u(e,t,si)}:u}else i=Sn(a[0],a[1],r);else i=xn(a[0],r);return"hasOwnProperty"!==e&&(di[e]=i),i}function An(){var e={},t={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(e){return $(e)?(t.unwrapPromises=!!e,this):t.unwrapPromises},this.logPromiseWarnings=function(e){return $(e)?(t.logPromiseWarnings=e,this):t.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(n,r,i){return t.csp=r.csp,si=function(e){t.logPromiseWarnings&&!ui.hasOwnProperty(e)&&(ui[e]=!0,i.warn("[$parse] Promise found in the expression `"+e+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(r){var i;switch(typeof r){case"string":if(e.hasOwnProperty(r))return e[r];var o=new pi(t),a=new fi(o,n,t);return i=a.parse(r,!1),"hasOwnProperty"!==r&&(e[r]=i),i;case"function":return r;default:return d}}}]}function En(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Pn(function(t){e.$evalAsync(t)},t)}]}function Pn(e,t){function r(e){return e}function i(e){return u(e)}function a(e){var t=s(),n=0,r=x(e)?[]:{};return o(e,function(e,i){n++,l(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}var s=function(){var o,a,u=[];return a={resolve:function(t){if(u){var r=u;u=n,o=l(t),r.length&&e(function(){for(var e,t=0,n=r.length;n>t;t++)e=r[t],o.then(e[0],e[1],e[2])})}},reject:function(e){a.resolve(c(e))},notify:function(t){if(u){var n=u;u.length&&e(function(){for(var e,r=0,i=n.length;i>r;r++)e=n[r],e[2](t)})}},promise:{then:function(e,n,a){var l=s(),c=function(n){try{l.resolve((S(e)?e:r)(n))}catch(i){l.reject(i),t(i)}},h=function(e){try{l.resolve((S(n)?n:i)(e))}catch(r){l.reject(r),t(r)}},p=function(e){try{l.notify((S(a)?a:r)(e))}catch(n){t(n)}};return u?u.push([c,h,p]):o.then(c,h,p),l.promise},"catch":function(e){return this.then(null,e)},"finally":function(e){function t(e,t){var n=s();return t?n.resolve(e):n.reject(e),n.promise}function n(n,i){var o=null;try{o=(e||r)()}catch(a){return t(a,!1)}return o&&S(o.then)?o.then(function(){return t(n,i)},function(e){return t(e,!1)}):t(n,i)}return this.then(function(e){return n(e,!0)},function(e){return n(e,!1)})}}}},l=function(t){return t&&S(t.then)?t:{then:function(n){var r=s();return e(function(){r.resolve(n(t))}),r.promise}}},u=function(e){var t=s();return t.reject(e),t.promise},c=function(n){return{then:function(r,o){var a=s();return e(function(){try{a.resolve((S(o)?o:i)(n))}catch(e){a.reject(e),t(e)}}),a.promise}}},h=function(n,o,a,c){var h,p=s(),f=function(e){try{return(S(o)?o:r)(e)}catch(n){return t(n),u(n)}},d=function(e){try{return(S(a)?a:i)(e)}catch(n){return t(n),u(n)}},g=function(e){try{return(S(c)?c:r)(e)}catch(n){t(n)}};return e(function(){l(n).then(function(e){h||(h=!0,p.resolve(l(e).then(f,d,g)))},function(e){h||(h=!0,p.resolve(d(e)))},function(e){h||p.notify(g(e))})}),p.promise};return{defer:s,reject:u,when:h,all:a}}function Tn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function jn(){var e=10,t=r("$rootScope"),n=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,a,s,l){function c(){this.$id=u(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}function h(e){if(v.$$phase)throw t("inprog","{0} already in progress",v.$$phase);v.$$phase=e}function p(){v.$$phase=null}function f(e,t){var n=s(e);return rt(n,t),n}function g(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function m(){}c.prototype={constructor:c,$new:function(e){var t,n;return e?(n=new c,n.$root=this.$root,n.$$asyncQueue=this.$$asyncQueue,n.$$postDigestQueue=this.$$postDigestQueue):(t=function(){},t.prototype=this,n=new t,n.$id=u()),n["this"]=n,n.$$listeners={},n.$$listenerCount={},n.$parent=this,n.$$watchers=n.$$nextSibling=n.$$childHead=n.$$childTail=null,n.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=n,this.$$childTail=n):this.$$childHead=this.$$childTail=n,n},$watch:function(e,t,r){var i=this,o=f(e,"watch"),a=i.$$watchers,s={fn:t,last:m,get:o,exp:e,eq:!!r};if(n=null,!S(t)){var l=f(t||d,"listener");s.fn=function(e,t,n){l(n)}}if("string"==typeof e&&o.constant){var u=s.fn;s.fn=function(e,t,n){u.call(this,e,t,n),N(a,s)}}return a||(a=i.$$watchers=[]),a.unshift(s),function(){N(a,s),n=null}},$watchCollection:function(e,t){function n(){o=p(u);var e,t;if(y(o))if(i(o)){a!==f&&(a=f,m=a.length=0,h++),e=o.length,m!==e&&(h++,a.length=m=e);for(var n=0;e>n;n++){var r=a[n]!==a[n]&&o[n]!==o[n];r||a[n]===o[n]||(h++,a[n]=o[n])}}else{a!==d&&(a=d={},m=0,h++),e=0;for(t in o)o.hasOwnProperty(t)&&(e++,a.hasOwnProperty(t)?a[t]!==o[t]&&(h++,a[t]=o[t]):(m++,a[t]=o[t],h++));if(m>e){h++;for(t in a)a.hasOwnProperty(t)&&!o.hasOwnProperty(t)&&(m--,delete a[t])}}else a!==o&&(a=o,h++);return h}function r(){if(g?(g=!1,t(o,o,u)):t(o,l,u),c)if(y(o))if(i(o)){l=new Array(o.length);for(var e=0;e<o.length;e++)l[e]=o[e]}else{l={};for(var n in o)dr.call(o,n)&&(l[n]=o[n])}else l=o}var o,a,l,u=this,c=t.length>1,h=0,p=s(e),f=[],d={},g=!0,m=0;return this.$watch(n,r)},$digest:function(){var r,i,o,s,l,u,c,f,d,g,v,$=this.$$asyncQueue,y=this.$$postDigestQueue,w=e,b=this,k=[];h("$digest"),n=null;do{for(u=!1,f=b;$.length;){try{v=$.shift(),v.scope.$eval(v.expression)}catch(x){p(),a(x)}n=null}e:do{if(s=f.$$watchers)for(l=s.length;l--;)try{if(r=s[l])if((i=r.get(f))===(o=r.last)||(r.eq?q(i,o):"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))){if(r===n){u=!1;break e}}else u=!0,n=r,r.last=r.eq?D(i):i,r.fn(i,o===m?i:o,f),5>w&&(d=4-w,k[d]||(k[d]=[]),g=S(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,g+="; newVal: "+U(i)+"; oldVal: "+U(o),k[d].push(g))}catch(x){p(),a(x)}if(!(c=f.$$childHead||f!==b&&f.$$nextSibling))for(;f!==b&&!(c=f.$$nextSibling);)f=f.$parent}while(f=c);if((u||$.length)&&!w--)throw p(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,U(k))}while(u||$.length);for(p();y.length;)try{y.shift()()}catch(x){a(x)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==v&&(o(this.$$listenerCount,V(null,g,this)),e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=d,this.$on=this.$watch=function(){return d})}},$eval:function(e,t){return s(e)(this,t)},$evalAsync:function(e){v.$$phase||v.$$asyncQueue.length||l.defer(function(){v.$$asyncQueue.length&&v.$digest()}),this.$$asyncQueue.push({scope:this,expression:e})},$$postDigest:function(e){this.$$postDigestQueue.push(e)},$apply:function(e){try{return h("$apply"),this.$eval(e)}catch(t){a(t)}finally{p();try{v.$digest()}catch(t){throw a(t),t}}},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){n[_(n,t)]=null,g(i,1,e)}},$emit:function(e){var t,n,r,i=[],o=this,s=!1,l={name:e,targetScope:o,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=H([l],arguments,1);do{for(t=o.$$listeners[e]||i,l.currentScope=o,n=0,r=t.length;r>n;n++)if(t[n])try{t[n].apply(null,u)}catch(c){a(c)}else t.splice(n,1),n--,r--;if(s)return l;o=o.$parent}while(o);return l},$broadcast:function(e){for(var t,n,r,i=this,o=i,s=i,l={name:e,targetScope:i,preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=H([l],arguments,1);o=s;){for(l.currentScope=o,t=o.$$listeners[e]||[],n=0,r=t.length;r>n;n++)if(t[n])try{t[n].apply(null,u)}catch(c){a(c)}else t.splice(n,1),n--,r--;if(!(s=o.$$listenerCount[e]&&o.$$childHead||o!==i&&o.$$nextSibling))for(;o!==i&&!(s=o.$$nextSibling);)o=o.$parent}return l}};var v=new c;return v}]}function Mn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*(https?|ftp|file):|data:image\//;this.aHrefSanitizationWhitelist=function(t){return $(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return $(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return $r&&!($r>=8)||(i=Hn(n).href,""===i||i.match(o))?n:"unsafe:"+i}}}function On(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function _n(e){if("self"===e)return e;if(w(e)){if(e.indexOf("***")>-1)throw gi("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=On(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(C(e))return new RegExp("^"+e.source+"$");throw gi("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Nn(e){var t=[];return $(e)&&o(e,function(e){t.push(_n(e))}),t}function Dn(){this.SCE_CONTEXTS=mi;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Nn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Nn(e)),t},this.$get=["$injector",function(r){function i(e,t){return"self"===e?Ln(t):!!e.exec(t.href)}function o(n){var r,o,a=Hn(n.toString()),s=!1;for(r=0,o=e.length;o>r;r++)if(i(e[r],a)){s=!0;break}if(s)for(r=0,o=t.length;o>r;r++)if(i(t[r],a)){s=!1;break}return s}function a(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function s(e,t){var r=p.hasOwnProperty(e)?p[e]:null;if(!r)throw gi("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw gi("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new r(t)}function l(e){return e instanceof h?e.$$unwrapTrustedValue():e}function u(e,t){if(null===t||t===n||""===t)return t;var r=p.hasOwnProperty(e)?p[e]:null;if(r&&t instanceof r)return t.$$unwrapTrustedValue();if(e===mi.RESOURCE_URL){if(o(t))return t;throw gi("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===mi.HTML)return c(t);throw gi("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(){throw gi("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(c=r.get("$sanitize"));var h=a(),p={};return p[mi.HTML]=a(h),p[mi.CSS]=a(h),p[mi.URL]=a(h),p[mi.JS]=a(h),p[mi.RESOURCE_URL]=a(p[mi.URL]),{trustAs:s,getTrusted:u,valueOf:l}}]}function Rn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sniffer","$sceDelegate",function(t,n,r){if(e&&n.msie&&n.msieDocumentMode<8)throw gi("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=D(mi);i.isEnabled=function(){return e},i.trustAs=r.trustAs,i.getTrusted=r.getTrusted,i.valueOf=r.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=g),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:function(t,n){return i.getTrusted(e,r(t,n))}};var a=i.parseAs,s=i.getTrusted,l=i.trustAs;return o(mi,function(e,t){var n=fr(t);i[ct("parse_as_"+n)]=function(t){return a(e,t)},i[ct("get_trusted_"+n)]=function(t){return s(e,t)},i[ct("trust_as_"+n)]=function(t){return l(e,t)}}),i}]}function qn(){this.$get=["$window","$document",function(e,t){var n,r,i={},o=p((/android (\d+)/.exec(fr((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},l=s.documentMode,u=/^(Moz|webkit|O|ms)(?=[A-Z])/,c=s.body&&s.body.style,h=!1,f=!1;if(c){for(var d in c)if(r=u.exec(d)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),h=!!("transition"in c||n+"Transition"in c),f=!!("animation"in c||n+"Animation"in c),!o||h&&f||(h=w(s.body.style.webkitTransition),f=w(s.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>o||a),hashchange:"onhashchange"in e&&(!l||l>7),hasEvent:function(e){if("input"==e&&9==$r)return!1;if(v(i[e])){var t=s.createElement("div");i[e]="on"+e in t}return i[e]},csp:I(),vendorPrefix:n,transitions:h,animations:f,android:o,msie:$r,msieDocumentMode:l}}]}function In(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(e,t,n,r){function i(i,a,s){var l,u=n.defer(),c=u.promise,h=$(s)&&!s;return l=t.defer(function(){try{u.resolve(i())}catch(t){u.reject(t),r(t)}finally{delete o[c.$$timeoutId]}h||e.$apply()},a),c.$$timeoutId=l,o[l]=u,c}var o={};return i.cancel=function(e){return e&&e.$$timeoutId in o?(o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},i}]}function Hn(e){var t=e;return $r&&(vi.setAttribute("href",t),t=vi.href),vi.setAttribute("href",t),{href:vi.href,protocol:vi.protocol?vi.protocol.replace(/:$/,""):"",host:vi.host,search:vi.search?vi.search.replace(/^\?/,""):"",hash:vi.hash?vi.hash.replace(/^#/,""):"",hostname:vi.hostname,port:vi.port,pathname:"/"===vi.pathname.charAt(0)?vi.pathname:"/"+vi.pathname}}function Ln(e){var t=w(e)?Hn(e):e;return t.protocol===$i.protocol&&t.host===$i.host}function Vn(){this.$get=m(e)}function Fn(e){function t(r,i){if(y(r)){var a={};return o(r,function(e,n){a[n]=t(n,e)}),a}return e.factory(r+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Wn),t("date",Xn),t("filter",Un),t("json",Zn),t("limitTo",er),t("lowercase",xi),t("number",Bn),t("orderBy",tr),t("uppercase",Si)}function Un(){return function(e,t,n){if(!x(e))return e;var r=typeof n,i=[];i.check=function(e){for(var t=0;t<i.length;t++)if(!i[t](e))return!1;return!0},"function"!==r&&(n="boolean"===r&&n?function(e,t){return Er.equals(e,t)}:function(e,t){if(e&&t&&"object"==typeof e&&"object"==typeof t){for(var r in e)if("$"!==r.charAt(0)&&dr.call(e,r)&&n(e[r],t[r]))return!0;return!1}return t=(""+t).toLowerCase(),(""+e).toLowerCase().indexOf(t)>-1});var o=function(e,t){if("string"==typeof t&&"!"===t.charAt(0))return!o(e,t.substr(1));switch(typeof e){case"boolean":case"number":case"string":return n(e,t);case"object":switch(typeof t){case"object":return n(e,t);default:for(var r in e)if("$"!==r.charAt(0)&&o(e[r],t))return!0}return!1;case"array":for(var i=0;i<e.length;i++)if(o(e[i],t))return!0;return!1;default:return!1}};switch(typeof t){case"boolean":case"number":case"string":t={$:t};case"object":for(var a in t)!function(e){"undefined"!=typeof t[e]&&i.push(function(n){return o("$"==e?n:n&&n[e],t[e])})}(a);break;case"function":i.push(t);break;default:return e}for(var s=[],l=0;l<e.length;l++){var u=e[l];i.check(u)&&s.push(u)}return s}}function Wn(e){var t=e.NUMBER_FORMATS;return function(e,n){return v(n)&&(n=t.CURRENCY_SYM),zn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,2).replace(/\u00A4/g,n)
}}function Bn(e){var t=e.NUMBER_FORMATS;return function(e,n){return zn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function zn(e,t,n,r,i){if(null==e||!isFinite(e)||y(e))return"";var o=0>e;e=Math.abs(e);var a=e+"",s="",l=[],u=!1;if(-1!==a.indexOf("e")){var c=a.match(/([\d\.]+)e(-?)(\d+)/);c&&"-"==c[2]&&c[3]>i+1?a="0":(s=a,u=!0)}if(u)i>0&&e>-1&&1>e&&(s=e.toFixed(i));else{var h=(a.split(yi)[1]||"").length;v(i)&&(i=Math.min(Math.max(t.minFrac,h),t.maxFrac));var p=Math.pow(10,i);e=Math.round(e*p)/p;var f=(""+e).split(yi),d=f[0];f=f[1]||"";var g,m=0,$=t.lgSize,w=t.gSize;if(d.length>=$+w)for(m=d.length-$,g=0;m>g;g++)(m-g)%w===0&&0!==g&&(s+=n),s+=d.charAt(g);for(g=m;g<d.length;g++)(d.length-g)%$===0&&0!==g&&(s+=n),s+=d.charAt(g);for(;f.length<i;)f+="0";i&&"0"!==i&&(s+=r+f.substr(0,i))}return l.push(o?t.negPre:t.posPre),l.push(s),l.push(o?t.negSuf:t.posSuf),l.join("")}function Gn(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function Jn(e,t,n,r){return n=n||0,function(i){var o=i["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),Gn(o,t,r)}}function Qn(e,t){return function(n,r){var i=n["get"+e](),o=gr(t?"SHORT"+e:e);return r[o][i]}}function Yn(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=Gn(Math[t>0?"floor":"ceil"](t/60),2)+Gn(Math.abs(t%60),2)}function Kn(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function Xn(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,o=0,a=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=p(t[9]+t[10]),o=p(t[9]+t[11])),a.call(r,p(t[1]),p(t[2])-1,p(t[3]));var l=p(t[4]||0)-i,u=p(t[5]||0)-o,c=p(t[6]||0),h=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,l,u,c,h),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r){var i,a,s="",l=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,w(n)&&(n=ki.test(n)?p(n):t(n)),b(n)&&(n=new Date(n)),!k(n))return n;for(;r;)a=bi.exec(r),a?(l=H(l,a,1),r=l.pop()):(l.push(r),r=null);return o(l,function(t){i=wi[t],s+=i?i(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),s}}function Zn(){return function(e){return U(e,!0)}}function er(){return function(e,t){if(!x(e)&&!w(e))return e;if(t=p(t),w(e))return t?t>=0?e.slice(0,t):e.slice(t,e.length):"";var n,r,i=[];for(t>e.length?t=e.length:t<-e.length&&(t=-e.length),t>0?(n=0,r=t):(n=e.length+t,r=e.length);r>n;n++)i.push(e[n]);return i}}function tr(e){return function(t,n,r){function i(e,t){for(var r=0;r<n.length;r++){var i=n[r](e,t);if(0!==i)return i}return 0}function o(e,t){return B(t)?function(t,n){return e(n,t)}:e}function a(e,t){var n=typeof e,r=typeof t;return n==r?("string"==n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:t>e?-1:1):r>n?-1:1}if(!x(t))return t;if(!n)return t;n=x(n)?n:[n],n=M(n,function(t){var n=!1,r=t||g;if(w(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),r=e(t),r.constant)){var i=r();return o(function(e,t){return a(e[i],t[i])},n)}return o(function(e,t){return a(r(e),r(t))},n)});for(var s=[],l=0;l<t.length;l++)s.push(t[l]);return s.sort(o(i,r))}}function nr(e){return S(e)&&(e={link:e}),e.restrict=e.restrict||"AC",m(e)}function rr(e,t,n,r){function i(t,n){n=n?"-"+et(n,"-"):"",r.removeClass(e,(t?qi:Ri)+n),r.addClass(e,(t?Ri:qi)+n)}var a=this,s=e.parent().controller("form")||Ei,l=0,u=a.$error={},c=[];a.$name=t.name||t.ngForm,a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,s.$addControl(a),e.addClass(Ii),i(!0),a.$addControl=function(e){it(e.$name,"input"),c.push(e),e.$name&&(a[e.$name]=e)},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],o(u,function(t,n){a.$setValidity(n,!0,e)}),N(c,e)},a.$setValidity=function(e,t,n){var r=u[e];if(t)r&&(N(r,n),r.length||(l--,l||(i(t),a.$valid=!0,a.$invalid=!1),u[e]=!1,i(!0,e),s.$setValidity(e,!0,a)));else{if(l||i(t),r){if(O(r,n))return}else u[e]=r=[],l++,i(!1,e),s.$setValidity(e,!1,a);r.push(n),a.$valid=!1,a.$invalid=!0}},a.$setDirty=function(){r.removeClass(e,Ii),r.addClass(e,Hi),a.$dirty=!0,a.$pristine=!1,s.$setDirty()},a.$setPristine=function(){r.removeClass(e,Hi),r.addClass(e,Ii),a.$dirty=!1,a.$pristine=!0,o(c,function(e){e.$setPristine()})}}function ir(e,t,r,i){return e.$setValidity(t,r),r?i:n}function or(e,t,n){var r=n.prop("validity");if(y(r)){var i=function(n){return e.$error[t]||!(r.badInput||r.customError||r.typeMismatch)||r.valueMissing?n:void e.$setValidity(t,!1)};e.$parsers.push(i)}}function ar(e,t,n,i,o,a){var s=t.prop("validity");if(!o.android){var l=!1;t.on("compositionstart",function(){l=!0}),t.on("compositionend",function(){l=!1,u()})}var u=function(){if(!l){var r=t.val();B(n.ngTrim||"T")&&(r=Tr(r)),(i.$viewValue!==r||s&&""===r&&!s.valueMissing)&&(e.$$phase?i.$setViewValue(r):e.$apply(function(){i.$setViewValue(r)}))}};if(o.hasEvent("input"))t.on("input",u);else{var c,h=function(){c||(c=a.defer(function(){u(),c=null}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||h()}),o.hasEvent("paste")&&t.on("paste cut",h)}t.on("change",u),i.$render=function(){t.val(i.$isEmpty(i.$viewValue)?"":i.$viewValue)};var f,d,g=n.ngPattern;if(g){var m=function(e,t){return ir(i,"pattern",i.$isEmpty(t)||e.test(t),t)};d=g.match(/^\/(.*)\/([gim]*)$/),d?(g=new RegExp(d[1],d[2]),f=function(e){return m(g,e)}):f=function(n){var i=e.$eval(g);if(!i||!i.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",g,i,z(t));return m(i,n)},i.$formatters.push(f),i.$parsers.push(f)}if(n.ngMinlength){var v=p(n.ngMinlength),$=function(e){return ir(i,"minlength",i.$isEmpty(e)||e.length>=v,e)};i.$parsers.push($),i.$formatters.push($)}if(n.ngMaxlength){var y=p(n.ngMaxlength),w=function(e){return ir(i,"maxlength",i.$isEmpty(e)||e.length<=y,e)};i.$parsers.push(w),i.$formatters.push(w)}}function sr(e,t,r,i,o,a){if(ar(e,t,r,i,o,a),i.$parsers.push(function(e){var t=i.$isEmpty(e);return t||_i.test(e)?(i.$setValidity("number",!0),""===e?null:t?e:parseFloat(e)):(i.$setValidity("number",!1),n)}),or(i,"number",t),i.$formatters.push(function(e){return i.$isEmpty(e)?"":""+e}),r.min){var s=function(e){var t=parseFloat(r.min);return ir(i,"min",i.$isEmpty(e)||e>=t,e)};i.$parsers.push(s),i.$formatters.push(s)}if(r.max){var l=function(e){var t=parseFloat(r.max);return ir(i,"max",i.$isEmpty(e)||t>=e,e)};i.$parsers.push(l),i.$formatters.push(l)}i.$formatters.push(function(e){return ir(i,"number",i.$isEmpty(e)||b(e),e)})}function lr(e,t,n,r,i,o){ar(e,t,n,r,i,o);var a=function(e){return ir(r,"url",r.$isEmpty(e)||Mi.test(e),e)};r.$formatters.push(a),r.$parsers.push(a)}function ur(e,t,n,r,i,o){ar(e,t,n,r,i,o);var a=function(e){return ir(r,"email",r.$isEmpty(e)||Oi.test(e),e)};r.$formatters.push(a),r.$parsers.push(a)}function cr(e,t,n,r){v(n.name)&&t.attr("name",u()),t.on("click",function(){t[0].checked&&e.$apply(function(){r.$setViewValue(n.value)})}),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function hr(e,t,n,r){var i=n.ngTrueValue,o=n.ngFalseValue;w(i)||(i=!0),w(o)||(o=!1),t.on("click",function(){e.$apply(function(){r.$setViewValue(t[0].checked)})}),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e!==i},r.$formatters.push(function(e){return e===i}),r.$parsers.push(function(e){return e?i:o})}function pr(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i==t[o])continue e;n.push(i)}return n}function i(e){if(x(e))return e;if(w(e))return e.split(" ");if(y(e)){var t=[];return o(e,function(e,n){e&&t.push(n)}),t}return e}return{restrict:"AC",link:function(a,s,l){function u(e){var t=h(e,1);l.$addClass(t)}function c(e){var t=h(e,-1);l.$removeClass(t)}function h(e,t){var n=s.data("$classCounts")||{},r=[];return o(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function p(e,t){var i=r(t,e),o=r(e,t);o=h(o,-1),i=h(i,1),0===i.length?n.removeClass(s,o):0===o.length?n.addClass(s,i):n.setClass(s,i,o)}function f(e){if(t===!0||a.$index%2===t){var n=i(e||[]);if(d){if(!q(e,d)){var r=i(d);p(r,n)}}else u(n)}d=D(e)}var d;a.$watch(l[e],f,!0),l.$observe("class",function(){f(a.$eval(l[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,r){var o=1&n;if(o!==r&1){var s=i(a.$eval(l[e]));o===t?u(s):c(s)}})}}}]}var fr=function(e){return w(e)?e.toLowerCase():e},dr=Object.prototype.hasOwnProperty,gr=function(e){return w(e)?e.toUpperCase():e},mr=function(e){return w(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},vr=function(e){return w(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(fr=mr,gr=vr);var $r,yr,wr,br,kr,xr=[].slice,Sr=[].push,Cr=Object.prototype.toString,Ar=r("ng"),Er=(e.angular,e.angular||(e.angular={})),Pr=["0","0","0"];$r=p((/msie (\d+)/.exec(fr(navigator.userAgent))||[])[1]),isNaN($r)&&($r=p((/trident\/.*; rv:(\d+)/.exec(fr(navigator.userAgent))||[])[1])),d.$inject=[],g.$inject=[];var Tr=function(){return String.prototype.trim?function(e){return w(e)?e.trim():e}:function(e){return w(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e}}();kr=9>$r?function(e){return e=e.nodeName?e:e[0],e.scopeName&&"HTML"!=e.scopeName?gr(e.scopeName+":"+e.nodeName):e.nodeName}:function(e){return e.nodeName?e.nodeName:e[0].nodeName};var jr=/[A-Z]/g,Mr={full:"1.2.16",major:1,minor:2,dot:16,codeName:"badger-enumeration"},Or=gt.cache={},_r=gt.expando="ng-"+(new Date).getTime(),Nr=1,Dr=e.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},Rr=e.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)},qr=(gt._data=function(e){return this.cache[e[this.expando]]||{}},/([\:\-\_]+(.))/g),Ir=/^moz([A-Z])/,Hr=r("jqLite"),Lr=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Vr=/<|&#?\w+;/,Fr=/<([\w:]+)/,Ur=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Wr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Wr.optgroup=Wr.option,Wr.tbody=Wr.tfoot=Wr.colgroup=Wr.caption=Wr.thead,Wr.th=Wr.td;var Br=gt.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),gt(e).on("load",r))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return yr(e>=0?this[e]:this[this.length+e])},length:0,push:Sr,sort:[].sort,splice:[].splice},zr={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){zr[fr(e)]=e});var Gr={};o("input,select,option,textarea,button,form,details".split(","),function(e){Gr[gr(e)]=!0}),o({data:bt,inheritedData:Et,scope:function(e){return yr(e).data("$scope")||Et(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return yr(e).data("$isolateScope")||yr(e).data("$isolateScopeNoTemplate")},controller:At,injector:function(e){return Et(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:kt,css:function(e,t,r){if(t=ct(t),!$(r)){var i;return 8>=$r&&(i=e.currentStyle&&e.currentStyle[t],""===i&&(i="auto")),i=i||e.style[t],8>=$r&&(i=""===i?n:i),i}e.style[t]=r},attr:function(e,t,r){var i=fr(t);if(zr[i]){if(!$(r))return e[t]||(e.attributes.getNamedItem(t)||d).specified?i:n;r?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if($(r))e.setAttribute(t,r);else if(e.getAttribute){var o=e.getAttribute(t,2);return null===o?n:o}},prop:function(e,t,n){return $(n)?void(e[t]=n):e[t]},text:function(){function e(e,n){var r=t[e.nodeType];return v(n)?r?e[r]:"":void(e[r]=n)}var t=[];return 9>$r?(t[1]="innerText",t[3]="nodeValue"):t[1]=t[3]="textContent",e.$dv="",e}(),val:function(e,t){if(v(t)){if("SELECT"===kr(e)&&e.multiple){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){if(v(t))return e.innerHTML;for(var n=0,r=e.childNodes;n<r.length;n++)vt(r[n]);e.innerHTML=t},empty:Pt},function(e,t){gt.prototype[t]=function(t,r){var i,o;if(e!==Pt&&(2==e.length&&e!==kt&&e!==At?t:r)===n){if(y(t)){for(i=0;i<this.length;i++)if(e===bt)e(this[i],t);else for(o in t)e(this[i],o,t[o]);return this}for(var a=e.$dv,s=a===n?Math.min(this.length,1):this.length,l=0;s>l;l++){var u=e(this[l],t,r);a=a?a+u:u}return a}for(i=0;i<this.length;i++)e(this[i],t,r);return this}}),o({removeData:yt,dealoc:vt,on:function xo(e,n,r,i){if($(i))throw Hr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var a=wt(e,"events"),s=wt(e,"handle");a||wt(e,"events",a={}),s||wt(e,"handle",s=jt(e,a)),o(n.split(" "),function(n){var i=a[n];if(!i){if("mouseenter"==n||"mouseleave"==n){var o=t.body.contains||t.body.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1};a[n]=[];var l={mouseleave:"mouseout",mouseenter:"mouseover"};xo(e,l[n],function(e){var t=this,r=e.relatedTarget;(!r||r!==t&&!o(t,r))&&s(e,n)})}else Dr(e,n,s),a[n]=[];i=a[n]}i.push(r)})},off:$t,one:function(e,t,n){e=yr(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;vt(e),o(new gt(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){o(new gt(t),function(t){(1===e.nodeType||11===e.nodeType)&&e.appendChild(t)})},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;o(new gt(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=yr(t)[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:function(e){vt(e);var t=e.parentNode;t&&t.removeChild(e)},after:function(e,t){var n=e,r=e.parentNode;o(new gt(t),function(e){r.insertBefore(e,n.nextSibling),n=e})},addClass:St,removeClass:xt,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var r=n;v(r)&&(r=!kt(e,t)),(r?St:xt)(e,t)})},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){if(e.nextElementSibling)return e.nextElementSibling;for(var t=e.nextSibling;null!=t&&1!==t.nodeType;)t=t.nextSibling;return t},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:mt,triggerHandler:function(e,t,n){var r=(wt(e,"events")||{})[t];n=n||[];var i=[{preventDefault:d,stopPropagation:d}];o(r,function(t){t.apply(e,i.concat(n))})}},function(e,t){gt.prototype[t]=function(t,n,r){for(var i,o=0;o<this.length;o++)v(i)?(i=e(this[o],t,n,r),$(i)&&(i=yr(i))):Ct(i,e(this[o],t,n,r));return $(i)?i:this},gt.prototype.bind=gt.prototype.on,gt.prototype.unbind=gt.prototype.off}),Ot.prototype={put:function(e,t){this[Mt(e)]=t},get:function(e){return this[Mt(e)]},remove:function(e){var t=this[e=Mt(e)];return delete this[e],t}};var Jr=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Qr=/,/,Yr=/^\s*(_?)(\S+?)\1\s*$/,Kr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Xr=r("$injector"),Zr=r("$animate"),ei=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var r=t+"-animation";if(t&&"."!=t.charAt(0))throw Zr("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=r,e.factory(r,n)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function(e,t){function n(e){e&&t(e)}return{enter:function(e,t,r,i){r?r.after(e):(t&&t[0]||(t=r.parent()),t.append(e)),n(i)},leave:function(e,t){e.remove(),n(t)},move:function(e,t,n,r){this.enter(e,t,n,r)},addClass:function(e,t,r){t=w(t)?t:x(t)?t.join(" "):"",o(e,function(e){St(e,t)}),n(r)},removeClass:function(e,t,r){t=w(t)?t:x(t)?t.join(" "):"",o(e,function(e){xt(e,t)}),n(r)},setClass:function(e,t,r,i){o(e,function(e){St(e,t),xt(e,r)}),n(i)},enabled:d}}]}],ti=r("$compile");Vt.$inject=["$provide","$$sanitizeUriProvider"];var ni=/^(x[\:\-_]|data[\:\-_])/i,ri=r("$interpolate"),ii=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,oi={http:80,https:443,ftp:21},ai=r("$location");dn.prototype=fn.prototype=pn.prototype={$$html5:!1,$$replace:!1,absUrl:gn("$$absUrl"),url:function(e,t){if(v(e))return this.$$url;var n=ii.exec(e);return n[1]&&this.path(decodeURIComponent(n[1])),(n[2]||n[1])&&this.search(n[3]||""),this.hash(n[5]||"",t),this},protocol:gn("$$protocol"),host:gn("$$host"),port:gn("$$port"),path:mn("$$path",function(e){return"/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(w(e))this.$$search=J(e);else{if(!y(e))throw ai("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:mn("$$hash",g),replace:function(){return this.$$replace=!0,this}};var si,li=r("$parse"),ui={},ci={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:d,"+":function(e,t,r,i){return r=r(e,t),i=i(e,t),$(r)?$(i)?r+i:r:$(i)?i:n},"-":function(e,t,n,r){return n=n(e,t),r=r(e,t),($(n)?n:0)-($(r)?r:0)},"*":function(e,t,n,r){return n(e,t)*r(e,t)},"/":function(e,t,n,r){return n(e,t)/r(e,t)},"%":function(e,t,n,r){return n(e,t)%r(e,t)},"^":function(e,t,n,r){return n(e,t)^r(e,t)},"=":d,"===":function(e,t,n,r){return n(e,t)===r(e,t)},"!==":function(e,t,n,r){return n(e,t)!==r(e,t)},"==":function(e,t,n,r){return n(e,t)==r(e,t)},"!=":function(e,t,n,r){return n(e,t)!=r(e,t)},"<":function(e,t,n,r){return n(e,t)<r(e,t)},">":function(e,t,n,r){return n(e,t)>r(e,t)},"<=":function(e,t,n,r){return n(e,t)<=r(e,t)},">=":function(e,t,n,r){return n(e,t)>=r(e,t)},"&&":function(e,t,n,r){return n(e,t)&&r(e,t)},"||":function(e,t,n,r){return n(e,t)||r(e,t)},"&":function(e,t,n,r){return n(e,t)&r(e,t)},"|":function(e,t,n,r){return r(e,t)(e,t,n(e,t))},"!":function(e,t,n){return!n(e,t)}},hi={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},pi=function(e){this.options=e};pi.prototype={constructor:pi,lex:function(e){this.text=e,this.index=0,this.ch=n,this.lastCh=":",this.tokens=[];for(var t,r=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent(),this.was("{,")&&"{"===r[0]&&(t=this.tokens[this.tokens.length-1])&&(t.json=-1===t.text.indexOf("."));else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch,json:this.was(":[,")&&this.is("{[")||this.is("}]:,")}),this.is("{[")&&r.unshift(this.ch),this.is("}]")&&r.shift(),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var i=this.ch+this.peek(),o=i+this.peek(2),a=ci[this.ch],s=ci[i],l=ci[o];l?(this.tokens.push({index:this.index,text:o,fn:l}),this.index+=3):s?(this.tokens.push({index:this.index,text:i,fn:s}),this.index+=2):a?(this.tokens.push({index:this.index,text:this.ch,fn:a,json:this.was("[,:")&&this.is("+-")}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(e){return-1!==e.indexOf(this.ch)},was:function(e){return-1!==e.indexOf(this.lastCh)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=$(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw li("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=fr(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}e=1*e,this.tokens.push({index:t,text:e,json:!0,fn:function(){return e}})},readIdent:function(){for(var e,t,n,r,i=this,o="",a=this.index;this.index<this.text.length&&(r=this.text.charAt(this.index),"."===r||this.isIdent(r)||this.isNumber(r));)"."===r&&(e=this.index),o+=r,this.index++;if(e)for(t=this.index;t<this.text.length;){if(r=this.text.charAt(t),"("===r){n=o.substr(e-a+1),o=o.substr(0,e-a),this.index=t;break}if(!this.isWhitespace(r))break;t++}var s={index:a,text:o};if(ci.hasOwnProperty(o))s.fn=ci[o],s.json=ci[o];else{var l=Cn(o,this.options,this.text);s.fn=h(function(e,t){return l(e,t)},{assign:function(e,t){return bn(e,o,t,i.text,i.options)}})}this.tokens.push(s),n&&(this.tokens.push({index:e,text:".",json:!1}),this.tokens.push({index:e+1,text:n,json:!1}))},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=hi[o];n+=s?s:o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,string:n,json:!0,fn:function(){return n}});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var fi=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};fi.ZERO=h(function(){return 0},{constant:!0}),fi.prototype={constructor:fi,parse:function(e,t){this.text=e,this.json=t,this.tokens=this.lexer.lex(e),t&&(this.assignment=this.logicalOR,this.functionCall=this.fieldAccess=this.objectIndex=this.filterChain=function(){this.throwError("is not valid json",{text:e,index:0})});var n=t?this.primary():this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),n.literal=!!n.literal,n.constant=!!n.constant,n},primary:function(){var e;if(this.expect("("))e=this.filterChain(),this.consume(")");else if(this.expect("["))e=this.arrayDeclaration();else if(this.expect("{"))e=this.object();else{var t=this.expect();e=t.fn,e||this.throwError("not a primary expression",t),t.json&&(e.constant=!0,e.literal=!0)}for(var n,r;n=this.expect("(","[",".");)"("===n.text?(e=this.functionCall(e,r),r=null):"["===n.text?(r=e,e=this.objectIndex(e)):"."===n.text?(r=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw li("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw li("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){if(this.tokens.length>0){var i=this.tokens[0],o=i.text;if(o===e||o===t||o===n||o===r||!e&&!t&&!n&&!r)return i}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return i?(this.json&&!i.json&&this.throwError("is not valid json",i),this.tokens.shift(),i):!1},consume:function(e){this.expect(e)||this.throwError("is unexpected, expecting ["+e+"]",this.peek())},unaryFn:function(e,t){return h(function(n,r){return e(n,r,t)},{constant:t.constant})},ternaryFn:function(e,t,n){return h(function(r,i){return e(r,i)?t(r,i):n(r,i)},{constant:e.constant&&t.constant&&n.constant})},binaryFn:function(e,t,n){return h(function(r,i){return t(r,i,e,n)},{constant:e.constant&&n.constant})},statements:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,n){for(var r,i=0;i<e.length;i++){var o=e[i];o&&(r=o(t,n))}return r}},filterChain:function(){for(var e,t=this.expression();;){if(!(e=this.expect("|")))return t;t=this.binaryFn(t,e.fn,this.filter())}},filter:function(){for(var e=this.expect(),t=this.$filter(e.text),n=[];;){if(!(e=this.expect(":"))){var r=function(e,r,i){for(var o=[i],a=0;a<n.length;a++)o.push(n[a](e,r));return t.apply(e,o)};return function(){return r}}n.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var e,t,n=this.ternary();return(t=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),function(t,r){return n.assign(t,e(t,r),r)}):n},ternary:function(){var e,t,n=this.logicalOR();return(t=this.expect("?"))?(e=this.ternary(),(t=this.expect(":"))?this.ternaryFn(n,e,this.ternary()):void this.throwError("expected :",t)):n},logicalOR:function(){for(var e,t=this.logicalAND();;){if(!(e=this.expect("||")))return t;t=this.binaryFn(t,e.fn,this.logicalAND())}},logicalAND:function(){var e,t=this.equality();return(e=this.expect("&&"))&&(t=this.binaryFn(t,e.fn,this.logicalAND())),t},equality:function(){var e,t=this.relational();return(e=this.expect("==","!=","===","!=="))&&(t=this.binaryFn(t,e.fn,this.equality())),t},relational:function(){var e,t=this.additive();return(e=this.expect("<",">","<=",">="))&&(t=this.binaryFn(t,e.fn,this.relational())),t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.fn,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.fn,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(fi.ZERO,e.fn,this.unary()):(e=this.expect("!"))?this.unaryFn(e.fn,this.unary()):this.primary()},fieldAccess:function(e){var t=this,n=this.expect().text,r=Cn(n,this.options,this.text);return h(function(t,n,i){return r(i||e(t,n))},{assign:function(r,i,o){return bn(e(r,o),n,i,t.text,t.options)}})},objectIndex:function(e){var t=this,r=this.expression();return this.consume("]"),h(function(i,o){var a,s,l=e(i,o),u=r(i,o);return l?(a=wn(l[u],t.text),a&&a.then&&t.options.unwrapPromises&&(s=a,"$$v"in a||(s.$$v=n,s.then(function(e){s.$$v=e})),a=a.$$v),a):n},{assign:function(n,i,o){var a=r(n,o),s=wn(e(n,o),t.text);return s[a]=i}})},functionCall:function(e,t){var n=[];if(")"!==this.peekToken().text)do n.push(this.expression());while(this.expect(","));this.consume(")");var r=this;return function(i,o){for(var a=[],s=t?t(i,o):i,l=0;l<n.length;l++)a.push(n[l](i,o));var u=e(i,o,s)||d;wn(s,r.text),wn(u,r.text);var c=u.apply?u.apply(s,a):u(a[0],a[1],a[2],a[3],a[4]);return wn(c,r.text)}},arrayDeclaration:function(){var e=[],t=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var n=this.expression();e.push(n),n.constant||(t=!1)}while(this.expect(","));return this.consume("]"),h(function(t,n){for(var r=[],i=0;i<e.length;i++)r.push(e[i](t,n));return r},{literal:!0,constant:t})},object:function(){var e=[],t=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.expect(),r=n.string||n.text;this.consume(":");var i=this.expression();e.push({key:r,value:i}),i.constant||(t=!1)}while(this.expect(","));return this.consume("}"),h(function(t,n){for(var r={},i=0;i<e.length;i++){var o=e[i];r[o.key]=o.value(t,n)}return r},{literal:!0,constant:t})}};var di={},gi=r("$sce"),mi={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},vi=t.createElement("a"),$i=Hn(e.location.href,!0);Fn.$inject=["$provide"],Wn.$inject=["$locale"],Bn.$inject=["$locale"];var yi=".",wi={yyyy:Jn("FullYear",4),yy:Jn("FullYear",2,0,!0),y:Jn("FullYear",1),MMMM:Qn("Month"),MMM:Qn("Month",!0),MM:Jn("Month",2,1),M:Jn("Month",1,1),dd:Jn("Date",2),d:Jn("Date",1),HH:Jn("Hours",2),H:Jn("Hours",1),hh:Jn("Hours",2,-12),h:Jn("Hours",1,-12),mm:Jn("Minutes",2),m:Jn("Minutes",1),ss:Jn("Seconds",2),s:Jn("Seconds",1),sss:Jn("Milliseconds",3),EEEE:Qn("Day"),EEE:Qn("Day",!0),a:Kn,Z:Yn},bi=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,ki=/^\-?\d+$/;Xn.$inject=["$locale"];var xi=m(fr),Si=m(gr);tr.$inject=["$parse"];var Ci=m({restrict:"E",compile:function(e,n){return 8>=$r&&(n.href||n.name||n.$set("href",""),e.append(t.createComment("IE fix"))),n.href||n.xlinkHref||n.name?void 0:function(e,t){var n="[object SVGAnimatedString]"===Cr.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}),Ai={};o(zr,function(e,t){if("multiple"!=e){var n=Ft("ng-"+t);Ai[n]=function(){return{priority:100,link:function(e,r,i){e.$watch(i[n],function(e){i.$set(t,!!e)})}}}}}),o(["src","srcset","href"],function(e){var t=Ft("ng-"+e);Ai[t]=function(){return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===Cr.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,function(e){e&&(i.$set(a,e),$r&&o&&r.prop(o,i[a]))})}}}});var Ei={$addControl:d,$removeControl:d,$setValidity:d,$setDirty:d,$setPristine:d};rr.$inject=["$element","$attrs","$scope","$animate"];var Pi=function(e){return["$timeout",function(t){var r={name:"form",restrict:e?"EAC":"E",controller:rr,compile:function(){return{pre:function(e,r,i,o){if(!i.action){var a=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};Dr(r[0],"submit",a),r.on("$destroy",function(){t(function(){Rr(r[0],"submit",a)},0,!1)})}var s=r.parent().controller("form"),l=i.name||i.ngForm;l&&bn(e,l,o,l),s&&r.on("$destroy",function(){s.$removeControl(o),l&&bn(e,l,n,l),h(o,Ei)})}}}};return r}]},Ti=Pi(),ji=Pi(!0),Mi=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Oi=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9-]+(\.[a-z0-9-]+)*$/i,_i=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Ni={text:ar,number:sr,url:lr,email:ur,radio:cr,checkbox:hr,hidden:d,button:d,submit:d,reset:d,file:d},Di=["$browser","$sniffer",function(e,t){return{restrict:"E",require:"?ngModel",link:function(n,r,i,o){o&&(Ni[fr(i.type)]||Ni.text)(n,r,i,o,t,e)}}}],Ri="ng-valid",qi="ng-invalid",Ii="ng-pristine",Hi="ng-dirty",Li=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(e,t,n,i,a,s){function l(e,t){t=t?"-"+et(t,"-"):"",s.removeClass(i,(e?qi:Ri)+t),s.addClass(i,(e?Ri:qi)+t)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=n.name;var u=a(n.ngModel),c=u.assign;if(!c)throw r("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,z(i));this.$render=d,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e};var h=i.inheritedData("$formController")||Ei,p=0,f=this.$error={};i.addClass(Ii),l(!0),this.$setValidity=function(e,t){f[e]!==!t&&(t?(f[e]&&p--,p||(l(!0),this.$valid=!0,this.$invalid=!1)):(l(!1),this.$invalid=!0,this.$valid=!1,p++),f[e]=!t,l(t,e),h.$setValidity(e,t,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,s.removeClass(i,Hi),s.addClass(i,Ii)},this.$setViewValue=function(n){this.$viewValue=n,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,s.removeClass(i,Ii),s.addClass(i,Hi),h.$setDirty()),o(this.$parsers,function(e){n=e(n)}),this.$modelValue!==n&&(this.$modelValue=n,c(e,n),o(this.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}}))};var g=this;e.$watch(function(){var t=u(e);if(g.$modelValue!==t){var n=g.$formatters,r=n.length;
for(g.$modelValue=t;r--;)t=n[r](t);g.$viewValue!==t&&(g.$viewValue=t,g.$render())}return t})}],Vi=function(){return{require:["ngModel","^?form"],controller:Li,link:function(e,t,n,r){var i=r[0],o=r[1]||Ei;o.$addControl(i),e.$on("$destroy",function(){o.$removeControl(i)})}}},Fi=m({require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Ui=function(){return{require:"?ngModel",link:function(e,t,n,r){if(r){n.required=!0;var i=function(e){return n.required&&r.$isEmpty(e)?void r.$setValidity("required",!1):(r.$setValidity("required",!0),e)};r.$formatters.push(i),r.$parsers.unshift(i),n.$observe("required",function(){i(r.$viewValue)})}}}},Wi=function(){return{require:"ngModel",link:function(e,t,r,i){var a=/\/(.*)\//.exec(r.ngList),s=a&&new RegExp(a[1])||r.ngList||",",l=function(e){if(!v(e)){var t=[];return e&&o(e.split(s),function(e){e&&t.push(Tr(e))}),t}};i.$parsers.push(l),i.$formatters.push(function(e){return x(e)?e.join(", "):n}),i.$isEmpty=function(e){return!e||!e.length}}}},Bi=/^(true|false|\d+)$/,zi=function(){return{priority:100,compile:function(e,t){return Bi.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Gi=nr(function(e,t,r){t.addClass("ng-binding").data("$binding",r.ngBind),e.$watch(r.ngBind,function(e){t.text(e==n?"":e)})}),Ji=["$interpolate",function(e){return function(t,n,r){var i=e(n.attr(r.$attr.ngBindTemplate));n.addClass("ng-binding").data("$binding",i),r.$observe("ngBindTemplate",function(e){n.text(e)})}}],Qi=["$sce","$parse",function(e,t){return function(n,r,i){function o(){return(a(n)||"").toString()}r.addClass("ng-binding").data("$binding",i.ngBindHtml);var a=t(i.ngBindHtml);n.$watch(o,function(){r.html(e.getTrustedHtml(a(n))||"")})}}],Yi=pr("",!0),Ki=pr("Odd",0),Xi=pr("Even",1),Zi=nr({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),eo=[function(){return{scope:!0,controller:"@",priority:500}}],to={};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Ft("ng-"+e);to[t]=["$parse",function(n){return{compile:function(r,i){var o=n(i[t]);return function(t,n){n.on(fr(e),function(e){t.$apply(function(){o(t,{$event:e})})})}}}}]});var no=["$animate",function(e){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,l,u;n.$watch(i.ngIf,function(o){B(o)?l||(l=n.$new(),a(l,function(n){n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},e.enter(n,r.parent(),r)})):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=at(s.clone),e.leave(u,function(){u=null}),s=null))})}}}],ro=["$http","$templateCache","$anchorScroll","$animate","$sce",function(e,t,n,r,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Er.noop,compile:function(o,a){var s=a.ngInclude||a.src,l=a.onload||"",u=a.autoscroll;return function(o,a,c,h,p){var f,d,g,m=0,v=function(){d&&(d.remove(),d=null),f&&(f.$destroy(),f=null),g&&(r.leave(g,function(){d=null}),d=g,g=null)};o.$watch(i.parseAsResourceUrl(s),function(i){var s=function(){!$(u)||u&&!o.$eval(u)||n()},c=++m;i?(e.get(i,{cache:t}).success(function(e){if(c===m){var t=o.$new();h.template=e;var n=p(t,function(e){v(),r.enter(e,null,a,s)});f=t,g=n,f.$emit("$includeContentLoaded"),o.$eval(l)}}).error(function(){c===m&&v()}),o.$emit("$includeContentRequested")):(v(),h.template=null)})}}}}],io=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,n,r,i){n.html(i.template),e(n.contents())(t)}}}],oo=nr({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),ao=nr({terminal:!0,priority:1e3}),so=["$locale","$interpolate",function(e,t){var n=/{}/g;return{restrict:"EA",link:function(r,i,a){var s=a.count,l=a.$attr.when&&i.attr(a.$attr.when),u=a.offset||0,c=r.$eval(l)||{},h={},p=t.startSymbol(),f=t.endSymbol(),d=/^when(Minus)?(.+)$/;o(a,function(e,t){d.test(t)&&(c[fr(t.replace("when","").replace("Minus","-"))]=i.attr(a.$attr[t]))}),o(c,function(e,r){h[r]=t(e.replace(n,p+s+"-"+u+f))}),r.$watch(function(){var t=parseFloat(r.$eval(s));return isNaN(t)?"":(t in c||(t=e.pluralCat(t-u)),h[t](r,i,!0))},function(e){i.text(e)})}}}],lo=["$parse","$animate",function(e,n){function a(e){return e.clone[0]}function s(e){return e.clone[e.clone.length-1]}var l="$$NG_REMOVED",u=r("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(r,c,h,p,f){var d,g,m,v,$,y,w,b,k,x=h.ngRepeat,S=x.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),C={$id:Mt};if(!S)throw u("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",x);if(y=S[1],w=S[2],d=S[3],d?(g=e(d),m=function(e,t,n){return k&&(C[k]=e),C[b]=t,C.$index=n,g(r,C)}):(v=function(e,t){return Mt(t)},$=function(e){return e}),S=y.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!S)throw u("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",y);b=S[3]||S[1],k=S[2];var A={};r.$watchCollection(w,function(e){var h,p,d,g,y,w,S,C,E,P,T,j,M=c[0],O={},_=[];if(i(e))P=e,E=m||v;else{E=m||$,P=[];for(w in e)e.hasOwnProperty(w)&&"$"!=w.charAt(0)&&P.push(w);P.sort()}for(g=P.length,p=_.length=P.length,h=0;p>h;h++)if(w=e===P?h:P[h],S=e[w],C=E(w,S,h),it(C,"`track by` id"),A.hasOwnProperty(C))T=A[C],delete A[C],O[C]=T,_[h]=T;else{if(O.hasOwnProperty(C))throw o(_,function(e){e&&e.scope&&(A[e.id]=e)}),u("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}",x,C);_[h]={id:C},O[C]=!1}for(w in A)A.hasOwnProperty(w)&&(T=A[w],j=at(T.clone),n.leave(j),o(j,function(e){e[l]=!0}),T.scope.$destroy());for(h=0,p=P.length;p>h;h++){if(w=e===P?h:P[h],S=e[w],T=_[h],_[h-1]&&(M=s(_[h-1])),T.scope){y=T.scope,d=M;do d=d.nextSibling;while(d&&d[l]);a(T)!=d&&n.move(at(T.clone),null,yr(M)),M=s(T)}else y=r.$new();y[b]=S,k&&(y[k]=w),y.$index=h,y.$first=0===h,y.$last=h===g-1,y.$middle=!(y.$first||y.$last),y.$odd=!(y.$even=0===(1&h)),T.scope||f(y,function(e){e[e.length++]=t.createComment(" end ngRepeat: "+x+" "),n.enter(e,null,yr(M)),M=e,T.scope=y,T.clone=e,O[T.id]=T})}A=O})}}}],uo=["$animate",function(e){return function(t,n,r){t.$watch(r.ngShow,function(t){e[B(t)?"removeClass":"addClass"](n,"ng-hide")})}}],co=["$animate",function(e){return function(t,n,r){t.$watch(r.ngHide,function(t){e[B(t)?"addClass":"removeClass"](n,"ng-hide")})}}],ho=nr(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),po=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,n,r,i){var a,s,l,u=r.ngSwitch||r.on,c=[];t.$watch(u,function(n){var u,h=c.length;if(h>0){if(l){for(u=0;h>u;u++)l[u].remove();l=null}for(l=[],u=0;h>u;u++){var p=s[u];c[u].$destroy(),l[u]=p,e.leave(p,function(){l.splice(u,1),0===l.length&&(l=null)})}}s=[],c=[],(a=i.cases["!"+n]||i.cases["?"])&&(t.$eval(r.change),o(a,function(n){var r=t.$new();c.push(r),n.transclude(r,function(t){var r=n.element;s.push(t),e.enter(t,r.parent(),r)})}))})}}}],fo=nr({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),go=nr({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),mo=nr({link:function(e,t,n,i,o){if(!o)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",z(t));o(function(e){t.empty(),t.append(e)})}}),vo=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],$o=r("ngOptions"),yo=m({terminal:!0}),wo=["$compile","$parse",function(e,r){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:d};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var r,i,o=this,a={},l=s;o.databound=n.ngModel,o.init=function(e,t,n){l=e,r=t,i=n},o.addOption=function(t){it(t,'"option value"'),a[t]=!0,l.$viewValue==t&&(e.val(t),i.parent()&&i.remove())},o.removeOption=function(e){this.hasOption(e)&&(delete a[e],l.$viewValue==e&&this.renderUnknownOption(e))},o.renderUnknownOption=function(t){var n="? "+Mt(t)+" ?";i.val(n),e.prepend(i),e.val(n),i.prop("selected",!0)},o.hasOption=function(e){return a.hasOwnProperty(e)},t.$on("$destroy",function(){o.renderUnknownOption=d})}],link:function(s,l,u,c){function h(e,t,n,r){n.$render=function(){var e=n.$viewValue;r.hasOption(e)?(C.parent()&&C.remove(),t.val(e),""===e&&d.prop("selected",!0)):v(e)&&d?t.val(""):r.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){C.parent()&&C.remove(),n.$setViewValue(t.val())})})}function p(e,t,n){var r;n.$render=function(){var e=new Ot(n.$viewValue);o(t.find("option"),function(t){t.selected=$(e.get(t.value))})},e.$watch(function(){q(r,n.$viewValue)||(r=D(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];o(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function f(t,o,s){function l(){var e,n,r,i,l,u,m,w,A,E,P,T,j,M,O,_={"":[]},N=[""],D=s.$modelValue,R=g(t)||[],q=p?a(R):R,I={},H=!1;if(y)if(v&&x(D)){H=new Ot([]);for(var L=0;L<D.length;L++)I[h]=D[L],H.put(v(t,I),D[L])}else H=new Ot(D);for(P=0;A=q.length,A>P;P++){if(m=P,p){if(m=q[P],"$"===m.charAt(0))continue;I[p]=m}if(I[h]=R[m],e=f(t,I)||"",(n=_[e])||(n=_[e]=[],N.push(e)),y)T=$(H.remove(v?v(t,I):d(t,I)));else{if(v){var V={};V[h]=D,T=v(t,V)===v(t,I)}else T=D===d(t,I);H=H||T}O=c(t,I),O=$(O)?O:"",n.push({id:v?v(t,I):p?q[P]:P,label:O,selected:T})}for(y||(b||null===D?_[""].unshift({id:"",label:"",selected:!H}):H||_[""].unshift({id:"?",label:"",selected:!0})),E=0,w=N.length;w>E;E++){for(e=N[E],n=_[e],C.length<=E?(i={element:S.clone().attr("label",e),label:n.label},l=[i],C.push(l),o.append(i.element)):(l=C[E],i=l[0],i.label!=e&&i.element.attr("label",i.label=e)),j=null,P=0,A=n.length;A>P;P++)r=n[P],(u=l[P+1])?(j=u.element,u.label!==r.label&&j.text(u.label=r.label),u.id!==r.id&&j.val(u.id=r.id),u.selected!==r.selected&&j.prop("selected",u.selected=r.selected)):(""===r.id&&b?M=b:(M=k.clone()).val(r.id).attr("selected",r.selected).text(r.label),l.push(u={element:M,label:r.label,id:r.id,selected:r.selected}),j?j.after(M):i.element.append(M),j=M);for(P++;l.length>P;)l.pop().element.remove()}for(;C.length>E;)C.pop()[0].element.remove()}var u;if(!(u=w.match(i)))throw $o("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",w,z(o));var c=r(u[2]||u[1]),h=u[4]||u[6],p=u[5],f=r(u[3]||""),d=r(u[2]?u[1]:h),g=r(u[7]),m=u[8],v=m?r(u[8]):null,C=[[{element:o,label:""}]];b&&(e(b)(t),b.removeClass("ng-scope"),b.remove()),o.empty(),o.on("change",function(){t.$apply(function(){var e,r,i,a,l,u,c,f,m,$=g(t)||[],w={};if(y){for(i=[],u=0,f=C.length;f>u;u++)for(e=C[u],l=1,c=e.length;c>l;l++)if((a=e[l].element)[0].selected){if(r=a.val(),p&&(w[p]=r),v)for(m=0;m<$.length&&(w[h]=$[m],v(t,w)!=r);m++);else w[h]=$[r];i.push(d(t,w))}}else{if(r=o.val(),"?"==r)i=n;else if(""===r)i=null;else if(v){for(m=0;m<$.length;m++)if(w[h]=$[m],v(t,w)==r){i=d(t,w);break}}else w[h]=$[r],p&&(w[p]=r),i=d(t,w);C[0].length>1&&C[0][1].id!==r&&(C[0][1].selected=!1)}s.$setViewValue(i)})}),s.$render=l,t.$watch(l)}if(c[1]){for(var d,g=c[0],m=c[1],y=u.multiple,w=u.ngOptions,b=!1,k=yr(t.createElement("option")),S=yr(t.createElement("optgroup")),C=k.clone(),A=0,E=l.children(),P=E.length;P>A;A++)if(""===E[A].value){d=b=E.eq(A);break}g.init(m,b,C),y&&(m.$isEmpty=function(e){return!e||0===e.length}),w?f(s,l,m):y?p(s,l,m):h(s,l,m,g)}}}}],bo=["$interpolate",function(e){var t={addOption:d,removeOption:d};return{restrict:"E",priority:100,compile:function(n,r){if(v(r.value)){var i=e(n.text(),!0);i||r.$set("value",n.text())}return function(e,n,r){var o="$selectController",a=n.parent(),s=a.data(o)||a.parent().data(o);s&&s.databound?n.prop("selected",!1):s=t,i?e.$watch(i,function(e,t){r.$set("value",e),e!==t&&s.removeOption(t),s.addOption(e)}):s.addOption(r.value),n.on("$destroy",function(){s.removeOption(r.value)})}}}}],ko=m({restrict:"E",terminal:!0});return e.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(tt(),lt(Er),void yr(t).ready(function(){X(t,Z)}))}(window,document),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}</style>')},{}],5:[function(e,t){var n="undefined"!=typeof window?window:{},r=function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=n.Prism={util:{encode:function(e){return e instanceof r?new r(e.type,t.util.encode(e.content)):"Array"===t.util.type(e)?e.map(t.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){var n=t.util.type(e);switch(n){case"Object":var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=t.util.clone(e[i]));return r;case"Array":return e.slice()}return e}},languages:{extend:function(e,n){var r=t.util.clone(t.languages[e]);for(var i in n)r[i]=n[i];return r},insertBefore:function(e,n,r,i){i=i||t.languages;var o=i[e],a={};for(var s in o)if(o.hasOwnProperty(s)){if(s==n)for(var l in r)r.hasOwnProperty(l)&&(a[l]=r[l]);a[s]=o[s]}return i[e]=a},DFS:function(e,n){for(var r in e)n.call(e,r,e[r]),"Object"===t.util.type(e)&&t.languages.DFS(e[r],n)}},highlightAll:function(e,n){for(var r,i=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),o=0;r=i[o++];)t.highlightElement(r,e===!0,n)},highlightElement:function(i,o,a){for(var s,l,u=i;u&&!e.test(u.className);)u=u.parentNode;if(u&&(s=(u.className.match(e)||[,""])[1],l=t.languages[s]),l){i.className=i.className.replace(e,"").replace(/\s+/g," ")+" language-"+s,u=i.parentNode,/pre/i.test(u.nodeName)&&(u.className=u.className.replace(e,"").replace(/\s+/g," ")+" language-"+s);var c=i.textContent;if(c){var h={element:i,language:s,grammar:l,code:c};if(t.hooks.run("before-highlight",h),o&&n.Worker){var p=new Worker(t.filename);p.onmessage=function(e){h.highlightedCode=r.stringify(JSON.parse(e.data),s),t.hooks.run("before-insert",h),h.element.innerHTML=h.highlightedCode,a&&a.call(h.element),t.hooks.run("after-highlight",h)},p.postMessage(JSON.stringify({language:h.language,code:h.code}))}else h.highlightedCode=t.highlight(h.code,h.grammar,h.language),t.hooks.run("before-insert",h),h.element.innerHTML=h.highlightedCode,a&&a.call(i),t.hooks.run("after-highlight",h)}}},highlight:function(e,n,i){var o=t.tokenize(e,n);return r.stringify(t.util.encode(o),i)},tokenize:function(e,n){var r=t.Token,i=[e],o=n.rest;if(o){for(var a in o)n[a]=o[a];delete n.rest}e:for(var a in n)if(n.hasOwnProperty(a)&&n[a]){var s=n[a],l=s.inside,u=!!s.lookbehind,c=0;s=s.pattern||s;for(var h=0;h<i.length;h++){var p=i[h];if(i.length>e.length)break e;if(!(p instanceof r)){s.lastIndex=0;var f=s.exec(p);if(f){u&&(c=f[1].length);var d=f.index-1+c,f=f[0].slice(c),g=f.length,m=d+g,v=p.slice(0,d+1),$=p.slice(m+1),y=[h,1];v&&y.push(v);var w=new r(a,l?t.tokenize(f,l):f);y.push(w),$&&y.push($),Array.prototype.splice.apply(i,y)}}}}return i},hooks:{all:{},add:function(e,n){var r=t.hooks.all;r[e]=r[e]||[],r[e].push(n)},run:function(e,n){var r=t.hooks.all[e];if(r&&r.length)for(var i,o=0;i=r[o++];)i(n)}}},r=t.Token=function(e,t){this.type=e,this.content=t};if(r.stringify=function(e,n,i){if("string"==typeof e)return e;if("[object Array]"==Object.prototype.toString.call(e))return e.map(function(t){return r.stringify(t,n,e)}).join("");var o={type:e.type,content:r.stringify(e.content,n,i),tag:"span",classes:["token",e.type],attributes:{},language:n,parent:i};"comment"==o.type&&(o.attributes.spellcheck="true"),t.hooks.run("wrap",o);var a="";for(var s in o.attributes)a+=s+'="'+(o.attributes[s]||"")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'" '+a+">"+o.content+"</"+o.tag+">"},!n.document)return n.addEventListener?(n.addEventListener("message",function(e){var r=JSON.parse(e.data),i=r.language,o=r.code;n.postMessage(JSON.stringify(t.tokenize(o,t.languages[i]))),n.close()},!1),n.Prism):n.Prism;var i=document.getElementsByTagName("script");return i=i[i.length-1],i&&(t.filename=i.src,document.addEventListener&&!i.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",t.highlightAll)),n.Prism}();"undefined"!=typeof t&&t.exports&&(t.exports=r),r.languages.markup={comment:/<!--[\w\W]*?-->/g,prolog:/<\?.+?\?>/,doctype:/<!DOCTYPE.+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[\w:-]+\s*(?:\s+[\w:-]+(?:=(?:("|')(\\?[\w\W])*?\1|[^\s'">=]+))?\s*)*\/?>/gi,inside:{tag:{pattern:/^<\/?[\w:-]+/i,inside:{punctuation:/^<\/?/,namespace:/^[\w-]+?:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/gi,inside:{punctuation:/=|>|"/g}},punctuation:/\/?>/g,"attr-name":{pattern:/[\w:-]+/g,inside:{namespace:/^[\w-]+?:/}}}},entity:/\&#?[\da-z]{1,8};/gi},r.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),r.languages.css={comment:/\/\*[\w\W]*?\*\//g,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*{))/gi,inside:{punctuation:/[;:]/g}},url:/url\((["']?).*?\1\)/gi,selector:/[^\{\}\s][^\{\};]*(?=\s*\{)/g,property:/(\b|\B)[\w-]+(?=\s*:)/gi,string:/("|')(\\?.)*?\1/g,important:/\B!important\b/gi,punctuation:/[\{\};:]/g,"function":/[-a-z0-9]+(?=\()/gi},r.languages.markup&&r.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/gi,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/gi,inside:r.languages.markup.tag.inside},rest:r.languages.css}}}),r.languages.clike={comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|(^|[^:])\/\/.*?(\r?\n|$))/g,lookbehind:!0},string:/("|')(\\?.)*?\1/g,"class-name":{pattern:/((?:(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/gi,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/g,"boolean":/\b(true|false)\b/g,"function":{pattern:/[a-z0-9_]+\(/gi,inside:{punctuation:/\(/}},number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?)\b/g,operator:/[-+]{1,2}|!|<=?|>=?|={1,3}|&{1,2}|\|?\||\?|\*|\/|\~|\^|\%/g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g},r.languages.javascript=r.languages.extend("clike",{keyword:/\b(break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|function|get|if|implements|import|in|instanceof|interface|let|new|null|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/g,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?|NaN|-?Infinity)\b/g}),r.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0}}),r.languages.markup&&r.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/gi,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/gi,inside:r.languages.markup.tag.inside},rest:r.languages.javascript}}}),r.languages.coffeescript=r.languages.extend("javascript",{"block-comment":/([#]{3}\s*\r?\n(.*\s*\r*\n*)\s*?\r?\n[#]{3})/g,comment:/(\s|^)([#]{1}[^#^\r^\n]{2,}?(\r?\n|$))/g,keyword:/\b(this|window|delete|class|extends|namespace|extend|ar|let|if|else|while|do|for|each|of|return|in|instanceof|new|with|typeof|try|catch|finally|null|undefined|break|continue)\b/g}),r.languages.insertBefore("coffeescript","keyword",{"function":{pattern:/[a-z|A-z]+\s*[:|=]\s*(\([.|a-z\s|,|:|{|}|\"|\'|=]*\))?\s*-&gt;/gi,inside:{"function-name":/[_?a-z-|A-Z-]+(\s*[:|=])| @[_?$?a-z-|A-Z-]+(\s*)| /g,operator:/[-+]{1,2}|!|=?&lt;|=?&gt;|={1,2}|(&amp;){1,2}|\|?\||\?|\*|\//g}},"attr-name":/[_?a-z-|A-Z-]+(\s*:)| @[_?$?a-z-|A-Z-]+(\s*)| /g}),r.languages.bash=r.languages.extend("clike",{comment:{pattern:/(^|[^"{\\])(#.*?(\r?\n|$))/g,lookbehind:!0},string:{pattern:/("|')(\\?[\s\S])*?\1/g,inside:{property:/\$([a-zA-Z0-9_#\?\-\*!@]+|\{[^\}]+\})/g}},keyword:/\b(if|then|else|elif|fi|for|break|continue|while|in|case|function|select|do|done|until|echo|exit|return|set|declare)\b/g}),r.languages.insertBefore("bash","keyword",{property:/\$([a-zA-Z0-9_#\?\-\*!@]+|\{[^}]+\})/g}),r.languages.insertBefore("bash","comment",{important:/(^#!\s*\/bin\/bash)|(^#!\s*\/bin\/sh)/g}),r.hooks.add("after-highlight",function(e){var t=e.element.parentNode;if(t&&/pre/i.test(t.nodeName)&&-1!==t.className.indexOf("line-numbers")){var n,r=1+e.code.split("\n").length;lines=new Array(r),lines=lines.join("<span></span>"),n=document.createElement("span"),n.className="line-numbers-rows",n.innerHTML=lines,t.hasAttribute("data-start")&&(t.style.counterReset="linenumber "+(parseInt(t.getAttribute("data-start"),10)-1)),e.element.appendChild(n)}}),function(){if(n.Prism){var e=/\b([a-z]{3,7}:\/\/|tel:)[\w-+%~\/.:]+/,t=/\b\S+@[\w.]+[a-z]{2}/,i=/\[([^\]]+)]\(([^)]+)\)/,o=["comment","url","attr-value","string"];for(var a in r.languages){var s=r.languages[a];r.languages.DFS(s,function(n,r){o.indexOf(n)>-1&&(r.pattern||(r=this[n]={pattern:r}),r.inside=r.inside||{},"comment"==n&&(r.inside["md-link"]=i),r.inside["url-link"]=e,r.inside["email-link"]=t)}),s["url-link"]=e,s["email-link"]=t}r.hooks.add("wrap",function(e){if(/-link$/.test(e.type)){e.tag="a";var t=e.content;if("email-link"==e.type)t="mailto:"+t;else if("md-link"==e.type){var n=e.content.match(i);t=n[2],e.content=n[1]}e.attributes.href=t}})}}()},{}]},{},[1]);